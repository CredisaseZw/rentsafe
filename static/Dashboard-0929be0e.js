import{j as e,u as j,d as u,L as x}from"./main-27bc9caa.js";import{L as g}from"./Layout-dca54a86.js";import{C as p,A as v,f as w,e as N,g as f}from"./index-d5f66b62.js";import{t as C,f as l}from"./formatting-9de8c923.js";import"./lodash-8b63f6bf.js";import"./assertThisInitialized-3be3daa4.js";import"./removeClass-6d3d02ff.js";import"./Modal-4b603229.js";import"./index-4710e7c2.js";import"./MultipleUpload-eda75571.js";import"./index-3d918947.js";import"./search-90181970.js";import"./index-66c3a614.js";p.register(v,w,N);const k=({data:a})=>e.jsx("div",{className:"d-flex justify-content-center w-100 h-100",children:e.jsx(f,{data:a})}),m=k;function y(){const{props:{client_credits_given:a,client_credits_taken:i,worst_credit_status:n}}=j();function o(d){u.Inertia.visit(reverseUrl("client-leases"),{data:{color:d}})}const{totalCreditGiven:t,totalCreditTaken:h,creditGivenWithPercentages:c,creditTakenWithPercentages:r}=C(a,i),s={labels:["Current","Past Due 1-30 days","Past Due 31-60 days","Past Due 61-90 days","Past Due 90+ days"],datasets:[{label:"% of Total Credit Taken",data:c.map(d=>d.percentage),backgroundColor:["green","orange","#f87171","#991b1b","black"],borderWidth:0}]},b={labels:["Current","Past Due 1-30 days","Past Due 31-60 days","Past Due 61-90 days","Past Due 90+ days"],datasets:[{label:"% of Total Credit Given",data:r.map(d=>d.percentage),backgroundColor:["green","orange","#f87171","#991b1b","black"],borderWidth:0}]};return{data1:s,data2:b,totalCreditGiven:t,totalCreditTaken:h,worstCreditStatus:n,creditGivenWithPercentages:c,creditTakenWithPercentages:r,navigateToLeases:o}}function P(){const{data1:a,data2:i,totalCreditGiven:n,totalCreditTaken:o,worstCreditStatus:t,creditGivenWithPercentages:h,creditTakenWithPercentages:c,navigateToLeases:r}=y();return e.jsxs("main",{className:"container-xl",children:[e.jsx("h5",{className:"bg-info text-center rounded-3 p-3 text-white mb-5",children:"Dashboard"}),e.jsxs("div",{className:"row row-cols-2 mb-5",children:[e.jsx("div",{children:e.jsxs("div",{className:"border shadow-sm bg-white custom-rounded-1 overflow-hidden",children:[e.jsx("div",{className:"bg-info fw-500 text-white p-2 text-center",children:"Payment Status Check"}),e.jsxs("div",{className:"d-flex justify-content-around py-3",children:[e.jsx(x,{href:reverseUrl("cl-search-individuals"),className:"c-text-link text-decoration-none",children:"Individual"}),e.jsx("div",{children:"|"}),e.jsx(x,{href:reverseUrl("cl-search-companies"),className:"c-text-link text-decoration-none",children:"Company"})]})]})}),e.jsx("div",{children:e.jsxs("div",{className:"border shadow-sm bg-white custom-rounded-1 overflow-hidden",children:[e.jsx("div",{className:"c-bg-light fw-500 p-2 text-center",children:"Your Payment Status"}),e.jsx("table",{className:"table table-sm table-responsive table-bordered m-0",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:`text-white px-4 ${t.color==="black"?"bg-black":t.color==="orange"?"bg-warning":t.color==="red"?"bg-danger":"bg-success"}`,children:t.score_level==="HHR"?"High High Risk":t.score_level==="LHR"?"Low High Risk":t.score_level==="HLR"?"High Low Risk":t.score_level==="NP"?"Non Payer":"Low Low Risk"}),e.jsx("td",{}),e.jsx("td",{}),e.jsx("td",{})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4",children:"Oldest Creditor"}),e.jsx("td",{children:t.lease_giver_name}),e.jsx("td",{children:t.payment_date}),e.jsxs("td",{className:"text-end",children:[t.currency," ",t.balance?l(Number(t.balance)):""]})]})]})})]})})]}),e.jsxs("div",{className:"row row-cols-2  mb-5",children:[e.jsx("div",{children:e.jsxs("div",{className:"border shadow-sm custom-rounded-1 bg-white overflow-hidden",children:[e.jsx("div",{className:"bg-info fw-500 text-white p-2 text-center",children:"Credit Given"}),e.jsxs("table",{className:"table table-sm table-responsive table-bordered m-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3",children:"Status"}),e.jsx("th",{className:"px-3 text-end",children:"USD"}),e.jsx("th",{className:"text-center",children:"%"})]})}),e.jsx("tbody",{children:h.map(s=>e.jsxs("tr",{children:[e.jsx("th",{className:"c-pointer  px-3",title:"Double click to view all",onDoubleClick:()=>r(s.bg),style:{backgroundColor:s.bg,color:"white"},children:s.label}),e.jsx("td",{className:"text-end c-pointer px-3",title:"Double click to view all",onDoubleClick:()=>r(s.bg),style:{backgroundColor:s.bg,color:"white"},children:l(Number(s.amount))}),e.jsx("td",{className:"text-center",children:s.percentage||0})]},s.label))}),e.jsx("tfoot",{children:e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 fw-500",children:"Total"}),e.jsx("td",{className:"px-3 fw-500 text-end",children:l(Number(n))}),e.jsx("td",{className:"fw-500 text-center",children:"100"})]})})]})]})}),e.jsx("div",{children:e.jsxs("div",{className:"border shadow-sm custom-rounded-1 bg-white overflow-hidden",children:[e.jsx("div",{className:"bg-danger fw-500 text-white p-2 text-center",children:"Credit Taken"}),e.jsxs("table",{className:"table table-sm table-responsive table-bordered m-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3",children:"Status"}),e.jsx("th",{className:"px-3 text-end",children:"USD"}),e.jsx("th",{className:"text-center",children:"%"})]})}),e.jsx("tbody",{children:c.map(s=>e.jsxs("tr",{children:[e.jsx("th",{className:"px-3",style:{backgroundColor:s.bg,color:"white"},children:s.label}),e.jsx("td",{className:"text-end",style:{backgroundColor:s.bg,color:"white"},children:l(Number(s.amount))}),e.jsx("td",{className:"text-center",children:Number(s.percentage)})]},s.label))}),e.jsx("tfoot",{children:e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 fw-500",children:"Total"}),e.jsx("td",{className:"px-3 fw-500 text-end",children:l(Number(o))}),e.jsx("td",{className:"fw-500 text-center",children:"100"})]})})]})]})})]}),e.jsxs("div",{className:"row row-cols-2",children:[e.jsx("div",{children:e.jsxs("div",{className:"border shadow-sm bg-white custom-rounded-1 overflow-hidden",children:[e.jsx("div",{className:"c-bg-light fw-500 text-center p-2",children:"Credit Given"}),e.jsx("div",{className:"p-4",children:e.jsx(m,{data:a})})]})}),e.jsx("div",{children:e.jsxs("div",{className:"border shadow-sm bg-white custom-rounded-1 overflow-hidden",children:[e.jsx("div",{className:"c-bg-light fw-500 text-center p-2",children:"Credit Taken"}),e.jsx("div",{className:"p-4",children:e.jsx(m,{data:i})})]})})]})]})}P.layout=a=>e.jsx(g,{children:a,title:"Dashboard"});export{P as default};
