import{r as o,j as e}from"./media/main-05399e1a.js";import{L as h}from"./Layout-ecef825e.js";import"./lodash-57a519b1.js";import"./assertThisInitialized-3be3daa4.js";import"./removeClass-6c8588b0.js";import"./Modal-c30bba59.js";import"./index-3307b432.js";import"./formatting-fad57ba1.js";import"./MultipleUpload-e0ff1b07.js";import"./index-a4cbb385.js";import"./search-f0f910e9.js";function u(){const[l,n]=o.useState("usd"),[r,x]=o.useState("period_selection_type_month"),[i,m]=o.useState(!1),[c,t]=o.useState(void 0);return o.useEffect(()=>{},[]),{totals:{consumer_enquiries:c?.consumer_enquiries.reduce((s,a)=>(s.amountExcl+=a.amountExcl,s.vat+=a.vat,s.totalInc+=a.totalInc,s),{amountExcl:0,vat:0,totalInc:0})||{amountExcl:0,vat:0,totalInc:0},company_enquiries:c?.company_enquiries.reduce((s,a)=>(s.amountExcl+=a.amountExcl,s.vat+=a.vat,s.totalInc+=a.totalInc,s),{amountExcl:0,vat:0,totalInc:0})||{amountExcl:0,vat:0,totalInc:0},rescission:c?.rescission.reduce((s,a)=>(s.amountExcl+=a.amountExcl,s.vat+=a.vat,s.totalInc+=a.totalInc,s),{amountExcl:0,vat:0,totalInc:0})||{amountExcl:0,vat:0,totalInc:0}},loading:i,rowsObject:c,selectedCurrency:l,periodSelectionType:r,setPeriodSelectionType:x,setSelectedCurrency:n}}function j(){const{totals:l,loading:n,rowsObject:r,selectedCurrency:x,periodSelectionType:i,setPeriodSelectionType:m,setSelectedCurrency:c}=u();return e.jsxs("div",{children:[e.jsx("h5",{className:"bg-info text-white p-2 text-center rounded-1",children:"Sales Reports"}),e.jsxs("div",{className:"d-flex gap-2 my-4 text-nowrap",children:[e.jsxs("fieldset",{className:"d-flex justify-content-around align-items-end flex-fill gap-3 border custom-rounded-1 border-3",children:[e.jsx("legend",{className:"px-1",children:"Category"}),e.jsxs("div",{children:[e.jsx("label",{className:"d-block form-label",children:"From"}),e.jsx("select",{disabled:n,className:"c-form-select",name:"bureau_from",id:"bureau_from",defaultValue:"bureau",children:e.jsx("option",{value:"bureau",children:"Bureau"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"d-block form-label",children:"To"}),e.jsx("select",{disabled:n,className:"c-form-select",name:"bureau_to",id:"bureau_to",defaultValue:"bureau",children:e.jsx("option",{value:"bureau",children:"Bureau"})})]})]}),e.jsxs("fieldset",{className:"d-flex justify-content-around align-items-end flex-fill gap-3 border custom-rounded-1 border-3",children:[e.jsx("legend",{className:"px-1",children:"Currency"}),e.jsxs("select",{disabled:n,className:"c-form-select w-100 bg-danger text-white",name:"currency",id:"currency",value:x,onChange:t=>{c(t.target.value)},children:[e.jsx("option",{value:"usd",children:"USD - United States Dollars"}),e.jsx("option",{value:"zwg",children:"ZWG - Zimbabwean Dollar"}),e.jsx("option",{value:"combined",children:"Combined"})]})]}),e.jsxs("fieldset",{className:"d-flex justify-content-around align-items-end flex-fill gap-3 border custom-rounded-1 border-3",children:[e.jsx("legend",{className:"px-1",children:"Period Selection"}),e.jsxs("div",{className:"d-flex align-items-end gap-3",children:[e.jsxs("div",{className:"form-check",children:[e.jsx("input",{disabled:n,className:"form-check-input",type:"radio",name:"period_selection_type",id:"period_selection_type_month",value:"period_selection_type_month",checked:i==="period_selection_type_month",onChange:t=>{m(t.target.value)}}),e.jsx("label",{className:"form-check-label",children:"Month"})]}),e.jsxs("select",{disabled:n||i!=="period_selection_type_month",className:"c-form-select",name:"month",id:"month",defaultValue:"1",children:[e.jsx("option",{value:"1",children:"January"}),e.jsx("option",{value:"2",children:"February"}),e.jsx("option",{value:"3",children:"March"}),e.jsx("option",{value:"4",children:"April"}),e.jsx("option",{value:"5",children:"May"}),e.jsx("option",{value:"6",children:"June"}),e.jsx("option",{value:"7",children:"July"}),e.jsx("option",{value:"8",children:"August"}),e.jsx("option",{value:"9",children:"September"}),e.jsx("option",{value:"10",children:"October"}),e.jsx("option",{value:"11",children:"November"}),e.jsx("option",{value:"12",children:"December"})]})]}),e.jsxs("div",{className:"d-flex align-items-end gap-3",children:[e.jsxs("div",{className:"form-check",children:[e.jsx("input",{disabled:n,className:"form-check-input",type:"radio",name:"period_selection_type",id:"period_selection_type_date",value:"period_selection_type_date",checked:i==="period_selection_type_date",onChange:t=>{m(t.target.value)}}),e.jsx("label",{className:"form-check-label",children:"Date"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"From"}),e.jsx("input",{disabled:n||i!=="period_selection_type_date",className:"form-control form-control-sm",name:"period_selection_date_from",id:"period_selection_date_from",type:"date"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"To"}),e.jsx("input",{disabled:n||i!=="period_selection_type_date",className:"form-control form-control-sm",name:"period_selection_date_to",id:"period_selection_date_to",type:"date"})]})]})]})]}),e.jsx("div",{children:e.jsxs("table",{className:"table table-bordered table-responsive table-sm bg-white",children:[e.jsx("thead",{className:"shadow-sm sticky-top c-table-top bg-white c-force-borders",children:e.jsxs("tr",{children:[e.jsx("th",{children:e.jsx("div",{children:" Date"})}),e.jsx("th",{children:e.jsx("div",{children:" Inv #"})}),e.jsx("th",{className:"custom-mn-w-2",children:e.jsx("div",{children:"Customer"})}),e.jsx("th",{className:"text-end",children:e.jsx("div",{children:"Amount (Excl)"})}),e.jsx("th",{className:"text-end",children:e.jsx("div",{children:"VAT"})}),e.jsx("th",{className:"text-end",children:e.jsx("div",{children:"Total (Inc)"})})]})}),e.jsx("tbody",{children:n?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"text-center p-5",children:e.jsx("div",{className:"spinner-border text-info",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}):e.jsxs(e.Fragment,{children:[e.jsx("tr",{children:e.jsx("td",{colSpan:"6",children:e.jsx("b",{className:"bg-danger text-white p-2 d-inline-block mt-1 rounded-2 ",children:String(x).toUpperCase()})})}),e.jsxs(e.Fragment,{children:[e.jsx("tr",{children:e.jsx("th",{colSpan:"6",children:e.jsx("div",{className:"fs-6 py-2",children:"BUR001 - Consumer Enquiries"})})}),r?.consumer_enquiries.map((t,d)=>e.jsxs("tr",{children:[e.jsx("td",{children:t.date}),e.jsx("td",{children:t.inv}),e.jsx("td",{children:t.customer}),e.jsx("td",{className:"text-end",children:t.amountExcl}),e.jsx("td",{className:"text-end",children:t.vat}),e.jsx("td",{className:"text-end",children:t.totalInc})]},d)),e.jsxs("tr",{children:[e.jsx("th",{colSpan:3,className:"text-end",children:"Sales Totals"}),e.jsx("th",{className:"text-end",children:l.consumer_enquiries.amountExcl.toFixed(2)}),e.jsx("th",{className:"text-end",children:l.consumer_enquiries.vat.toFixed(2)}),e.jsx("th",{className:"text-end",children:l.consumer_enquiries.totalInc.toFixed(2)})]})]}),e.jsxs(e.Fragment,{children:[e.jsx("tr",{children:e.jsx("th",{colSpan:"6",children:e.jsx("div",{className:"fs-6 py-2",children:"BUR002 - Company Enquiries"})})}),r?.company_enquiries.map((t,d)=>e.jsxs("tr",{children:[e.jsx("td",{children:t.date}),e.jsx("td",{children:t.inv}),e.jsx("td",{children:t.customer}),e.jsx("td",{className:"text-end",children:t.amountExcl}),e.jsx("td",{className:"text-end",children:t.vat}),e.jsx("td",{className:"text-end",children:t.totalInc})]},d)),e.jsxs("tr",{children:[e.jsx("th",{colSpan:3,className:"text-end",children:"Sales Totals"}),e.jsx("th",{className:"text-end",children:l.company_enquiries.amountExcl.toFixed(2)}),e.jsx("th",{className:"text-end",children:l.company_enquiries.vat.toFixed(2)}),e.jsx("th",{className:"text-end",children:l.company_enquiries.totalInc.toFixed(2)})]})]}),e.jsxs(e.Fragment,{children:[e.jsx("tr",{children:e.jsx("th",{colSpan:"6",children:e.jsx("div",{className:"fs-6 py-2",children:"BUR003 - Rescission"})})}),r?.rescission.map((t,d)=>e.jsxs("tr",{children:[e.jsx("td",{children:t.date}),e.jsx("td",{children:t.inv}),e.jsx("td",{children:t.customer}),e.jsx("td",{className:"text-end",children:t.amountExcl}),e.jsx("td",{className:"text-end",children:t.vat}),e.jsx("td",{className:"text-end",children:t.totalInc})]},d)),e.jsxs("tr",{children:[e.jsx("th",{colSpan:3,className:"text-end",children:"Sales Totals"}),e.jsx("th",{className:"text-end",children:l.rescission.amountExcl.toFixed(2)}),e.jsx("th",{className:"text-end",children:l.rescission.vat.toFixed(2)}),e.jsx("th",{className:"text-end",children:l.rescission.totalInc.toFixed(2)})]})]})]})})]})})]})}j.layout=l=>e.jsx(h,{children:l,title:"Sales Reports"});export{j as default};
