import{u,a as g,j as e}from"./main-5c37eb2a.js";import{L as b}from"./Layout-779839f2.js";import{S as x}from"./SearchBar-e66e6ff5.js";import{P as f}from"./PaginationControls-b06e4983.js";import{f as l}from"./formatting-fad57ba1.js";import{N as w}from"./NewPageHeader-c0cd0023.js";import"./lodash-9dd08774.js";import"./assertThisInitialized-3be3daa4.js";import"./removeClass-bd16bbcb.js";import"./Modal-34f4a559.js";import"./index-5a5385bf.js";import"./MultipleUpload-041fb25a.js";import"./index-acacf113.js";import"./search-513e0541.js";import"./Button-373e56ce.js";function N(){const{props:{tenant_list:s,total_pages:i,total_items:n,current_page:h}}=u(),{data:c,get:d}=g();function o(r){const a=`/clients/accounting/detailed-statement/${r}/`;d(a)}const t=s.filter(r=>r.lease_currency_type.toUpperCase()==="USD"),m=s.filter(r=>r.lease_currency_type.toUpperCase()!=="USD"),j=t.reduce((r,a)=>r+parseFloat(a.owing_amount),0),p=m.reduce((r,a)=>r+parseFloat(a.owing_amount),0);return{data:c,tenants:s,usdTotal:j,zwlTotal:p,total_pages:i,total_items:n,current_page:h,usdStatements:t,zwlStatements:m,onOpenStatement:o,get:d}}function S(){const{usdTotal:s,zwlTotal:i,total_pages:n,current_page:h,usdStatements:c,zwlStatements:d,onOpenStatement:o}=N();return e.jsxs("div",{children:[e.jsx(w,{title:"Customer Summary"}),e.jsxs("div",{className:"p-2 fw-bold d-flex justify-content-between align-items-center",children:[e.jsx("div",{children:"USD"}),e.jsxs("div",{children:["Date: ",new Date().toLocaleDateString()]})]}),e.jsxs("table",{className:"table table-bordered table-responsive table-sm c-fs-small",children:[e.jsxs("thead",{className:"position-sticky c-table-top c-bg-whitesmoke",children:[e.jsx("tr",{children:e.jsx("td",{colSpan:7,children:e.jsx("div",{className:"col-4 p-0 pt-1",children:e.jsx(x,{searchBy:"search",placeholder:"Search..."})})})}),e.jsxs("tr",{className:"c-thead-bg rounded-2 c-force-borders",children:[e.jsx("th",{children:e.jsx("div",{children:" Customer # "})}),e.jsx("th",{children:e.jsx("div",{children:" Customer Name "})}),e.jsx("th",{children:e.jsx("div",{children:" Address "})}),e.jsx("th",{className:"text-end",children:e.jsx("div",{children:" Rent Owing"})}),e.jsx("th",{className:"bg-white",children:e.jsx("div",{})})]})]}),e.jsx("tbody",{children:c?.length>0&&c.map(t=>e.jsxs("tr",{children:[e.jsx("th",{children:t.id}),e.jsxs("td",{children:[t.tenant_name," "]}),e.jsx("td",{children:t.address}),e.jsx("td",{className:`text-end bg-${t.color} text-white`,style:{backgroundColor:t.color=="light-red"?"#f87171":""},children:Number(t.owing_amount)>=0?l(Number(t.owing_amount)):`(${l(Number(t.owing_amount)*-1)})`}),e.jsx("td",{className:"bg-info text-center",style:{fontWeight:"500",fontSize:"16px",color:"white",cursor:"pointer"},onClick:()=>o(t.id),children:"View"})]},t.id))}),e.jsx("tfoot",{className:"fw-bold c-fs-18",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Total"}),e.jsx("td",{}),e.jsx("td",{}),e.jsx("td",{className:"text-end",children:s>=0?l(s):`(${l(s*-1)})`}),e.jsx("td",{})]})})]}),e.jsxs("div",{className:"mt-5 p-2 fw-bold d-flex justify-content-between align-items-center",children:[e.jsx("div",{children:"ZWG"}),e.jsxs("div",{children:["Date: ",new Date().toLocaleDateString()]})]}),e.jsxs("table",{className:"table table-bordered table-responsive table-sm c-fs-small",children:[e.jsxs("thead",{className:"position-sticky c-table-top c-bg-whitesmoke",children:[e.jsx("tr",{children:e.jsx("td",{colSpan:7,children:e.jsx("div",{className:"col-4 p-0 pt-1",children:e.jsx(x,{searchBy:"search",placeholder:"Search..."})})})}),e.jsxs("tr",{className:"c-thead-bg rounded-2",children:[e.jsx("th",{children:"Tenant #"}),e.jsx("td",{children:"Tenant Name"}),e.jsx("td",{children:"Address"}),e.jsx("td",{className:"text-end",children:"Rent Owing"}),e.jsx("td",{className:"bg-white"})]})]}),e.jsx("tbody",{children:d?.length>0&&d.map(t=>e.jsxs("tr",{children:[e.jsx("th",{children:t.id}),e.jsxs("td",{children:[t.tenant_name," "]}),e.jsx("td",{children:t.address}),e.jsx("td",{className:`text-end bg-${t.color} text-white`,style:{backgroundColor:t.color=="light-red"?"#f87171":""},children:Number(t.owing_amount)>=0?l(Number(t.owing_amount)):`(${l(Number(t.owing_amount)*-1)})`}),e.jsx("td",{className:"bg-info text-center",style:{fontWeight:"500",fontSize:"16px",color:"white",cursor:"pointer"},onClick:()=>o(t.id),children:"View"})]},t.id))}),e.jsx("tfoot",{className:"fw-bold c-fs-18",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Total"}),e.jsx("td",{}),e.jsx("td",{}),e.jsx("td",{className:"text-end",children:i>=0?l(i):`(${l(i*-1)})`}),e.jsx("td",{})]})})]}),e.jsx("div",{className:"px-3",children:e.jsx(f,{currentPage:h,totalPages:n})})]})}S.layout=s=>e.jsx(b,{children:s,title:"Customer Statements"});export{S as default};
