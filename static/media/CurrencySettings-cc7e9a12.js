import{R as o,b as m,_ as h,j as e}from"./main-5c244715.js";import{L as g}from"./Layout-b60b0d01.js";import{N as y}from"./NewPageHeader-db234e2e.js";import{u as b}from"./useCurrencies-5401186f.js";import{u as j}from"./index-f1738c83.js";import"./lodash-8a516636.js";import"./assertThisInitialized-3be3daa4.js";import"./removeClass-e1b110fd.js";import"./Modal-bb9e7ea7.js";import"./index-36250c36.js";import"./formatting-fad57ba1.js";import"./MultipleUpload-d000b528.js";import"./search-5302eb36.js";function _(){const[n,r]=o.useState(!0),{currencies:s,loading:i}=b(),[l,t]=o.useState({id:void 0,date_created:void 0,date_updated:void 0,current_rate:void 0,updated_at:void 0,user:void 0,base_currency:void 0,currency:void 0});function a(){r(!0),m.get("/accounting/currency-settings/rate-setup/").then(c=>{t(c.data.currency_rate_settings)}).catch(console.log).finally(()=>r(!1))}o.useEffect(()=>{a()},[]);function p(c){c.preventDefault(),r(!0);const d=Object.fromEntries(new FormData(c.target).entries());m.post("/accounting/currency-settings/rate-setup/",d).then(u=>{h.success(j(u)),a()}).catch(console.log).finally(()=>r(!1))}function x(c){const{name:d,value:u}=c.target;t(f=>({...f,[d]:u}))}return{loading:n||i,currencies:s,currentSettings:l,changeHandler:x,handleSubmit:p}}function w(){const{loading:n,currencies:r,currentSettings:s,changeHandler:i,handleSubmit:l}=_();return e.jsxs("form",{onSubmit:l,children:[e.jsx(y,{title:"Currency Settings"}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"w-100 my-2 d-flex align-items-center justify-content-between gap-4",children:[e.jsx("label",{htmlFor:"base_currency",className:"form-label",children:"Base Currency"}),e.jsxs("select",{className:"form-select w-75 form-select-md",name:"base_currency",id:"base_currency",required:!0,onChange:i,value:s.base_currency,children:[e.jsx("option",{disabled:!0,value:"",children:"Select Currency"}),r?.map((t,a)=>e.jsxs("option",{value:t.id,children:[t.currency_code," (",t.currency_name,")"]},a))]})]}),e.jsxs("div",{className:"w-100 my-2 d-flex align-items-center justify-content-between gap-4",children:[e.jsx("label",{className:"form-label",children:" Currency to convert "}),e.jsxs("div",{className:"w-75 d-flex gap-2 align-items-start",children:[e.jsxs("div",{className:"d-flex flex-column gap-1 align-items-start",children:[e.jsx("small",{id:"currency_help",className:"custom-w-10ch text-lowercase d-inline-block form-text text-nowrap text-muted",children:"currency"}),e.jsxs("select",{"aria-describedby":"currency_help",name:"currency",id:"currency",className:"form-select ",required:!0,onChange:i,value:s?.currency||"",children:[e.jsx("option",{disabled:!0,value:"",children:"Select Currency"}),r?.map((t,a)=>e.jsxs("option",{value:t.id,children:[t.currency_code," (",t.currency_name,")"]},a))]})]}),e.jsxs("div",{className:"d-flex flex-column gap-1 align-items-start",children:[e.jsx("small",{id:"rate_help",className:"custom-w-10ch text-lowercase d-inline-block form-text  text-nowrap text-muted",children:"rate"}),e.jsx("input",{className:"form-control","aria-describedby":"rate_help",name:"current_rate",id:"current_rate",type:"number",required:!0,onChange:i,value:s?.current_rate||""})]}),e.jsxs("div",{className:"d-flex flex-column gap-1 align-items-start",children:[e.jsx("small",{id:"date_help",className:"custom-w-10ch text-lowercase d-inline-block form-text  text-nowrap text-muted",children:"date"}),e.jsx("input",{className:"form-control c-w-fit","aria-describedby":"date_help",name:"date",id:"date",required:!0,type:"date",value:new Date(s?.date_updated||new Date).toISOString().split("T")[0],readOnly:!0})]})]})]}),e.jsx("div",{className:"text-end mt-5",children:e.jsx("button",{className:"btn btn-info text-white",type:"submit",disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-grow me-2 spinner-grow-sm"}),e.jsx("span",{children:"please wait..."})]}):"Submit"})})]})]})}w.layout=n=>e.jsx(g,{children:n,title:"Currency Settings"});export{w as default};
