import{r as d,j as e,a as E,_ as h,b as V,H as J}from"./main-5c37eb2a.js";import{L as K}from"./Layout-779839f2.js";import{B as Q}from"./BulkIconButton-19435a8e.js";import{h as D}from"./html2pdf-b7c8b9f4.js";import{M as C}from"./Modal-34f4a559.js";import{B}from"./Button-df900eff.js";import{B as ee}from"./BulkUploadModal-71ab89c1.js";import{M as se}from"./MultipleUpload-041fb25a.js";import{i as te}from"./index-c8db368f.js";import{u as M}from"./index-acacf113.js";import{C as re}from"./ContentModal-bd5c0b74.js";import{N as ne}from"./NotFound-21773505.js";import{N as le}from"./NewPageHeader-c0cd0023.js";import"./lodash-9dd08774.js";import"./assertThisInitialized-3be3daa4.js";import"./removeClass-bd16bbcb.js";import"./formatting-fad57ba1.js";import"./search-513e0541.js";import"./index-5a5385bf.js";import"./Button-373e56ce.js";function ie({showReport:x,handleCloseReport:l,selectedRow:j,reportData:t}){const r=d.useRef(),v=()=>{const a=r.current;D().from(a).set({margin:1,filename:"modal-content.pdf",html2canvas:{scale:2},jsPDF:{orientation:"portrait"}}).save()};return console.log(t),e.jsx(e.Fragment,{children:e.jsxs(C,{show:x,onHide:l,fullscreen:!0,children:[e.jsx(C.Body,{ref:r,children:e.jsxs("div",{style:{border:"3px solid #176987",width:"100%",padding:"20px"},children:[e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs("div",{children:[e.jsx("div",{children:"CrediSafe"}),e.jsx("div",{children:"Securing you rental investments"})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs("div",{children:[e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{})]}),e.jsxs("div",{style:{lineHeight:"10px"},children:[e.jsx("p",{style:{textAlign:"right"},children:"+263 71 882 2460"}),e.jsx("p",{style:{textAlign:"right"},children:"credisafezw@gmail.com"}),e.jsx("p",{style:{textAlign:"right"},children:" www.credi-safe.com"})]})]})]}),e.jsx("div",{className:"mt-5 mb-2",children:e.jsxs("h6",{children:["Rent Payment Status Report on"," ",e.jsxs("span",{style:{fontWeight:"bold",color:"#176987"},children:[t?.company_details?.trading_name||t?.company_details?.registration_name," "]}),"as at ",Date().toLocaleString()]})}),e.jsx("div",{className:"mb-5",style:{border:"1px solid #176987",width:"100%",padding:"5px"},children:e.jsxs("div",{style:{padding:"10px"},children:[e.jsx("table",{className:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#190062"},children:e.jsx("th",{scope:"row",colSpan:5,className:"text-center text-white",children:"PAYMENT STATUS CLASSIFICATION/INDICATOR"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",className:"text-center",children:"Status"}),e.jsx("td",{style:{backgroundColor:t?.risk_data?.class=="non-payer"||t?.risk_data?.class=="high-high"||t?.risk_data?.class=="high"||t?.risk_data?.class=="medium"||t?.risk_data?.class=="low"?t?.risk_data?.color:"",color:t?.risk_data?.class=="non-payer"?"white":""},className:"text-center text-white",children:t?.risk_data?.class=="non-payer"?"Non-Payer":t?.risk_data?.class=="high-high"?"High-High":t?.risk_data?.class=="high"?"High":t?.risk_data?.class=="medium"?"Medium":t?.risk_data?.class=="low"?"Low":""})]})]})}),e.jsx("table",{className:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#808080"},children:e.jsx("th",{scope:"row",colSpan:5,className:"text-center text-white",children:"STATUS INDEX"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",className:"text-center bg-success text-white",children:"Low"}),e.jsx("td",{style:{fontWeight:"bold"},className:"text-center bg-warning text-white",children:"Medium Risk"}),e.jsx("td",{style:{backgroundColor:"#ff33cc",fontWeight:"bold"},className:"text-center text-white",children:"High Risk - Lower"}),e.jsx("td",{style:{fontWeight:"bold",backgroundColor:"red"},className:"text-center text-white",children:"High Risk - Upper"}),e.jsx("td",{style:{fontWeight:"bold"},className:"text-center bg-dark text-white",children:"None Payer"})]}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",className:"text-center text-nowrap",children:"Current"}),e.jsx("td",{className:"text-center text-nowrap",children:"1st Month Outstanding"}),e.jsx("td",{className:"text-center text-nowrap",children:"2nd Month Outstanding"}),e.jsx("td",{className:"text-center text-nowrap",children:"3rd Month Outstanding"}),e.jsx("td",{className:"text-center text-nowrap",children:"+3 Months Outstanding"})]})]})})]})}),e.jsx("div",{className:"mb-5",style:{border:"1px solid #176987",width:"100%",padding:"2px"},children:e.jsxs("div",{style:{padding:"10px"},children:[e.jsx("table",{className:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#305496"},children:e.jsx("th",{scope:"row",colSpan:4,className:"text-center text-white",children:"COMPANY DETAILS"})}),e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#b4c6e7"},children:e.jsx("th",{scope:"row",colSpan:4,className:"text-center ",children:"Registration Details"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:"Registered Name :"}),e.jsxs("td",{children:[t?.company_details?.registration_name," "]}),e.jsx("td",{children:"Trading Name:"}),e.jsx("td",{children:t?.company_details?.trading_name})]}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:"Registration number:"}),e.jsx("td",{children:t?.company_details?.registration_number}),e.jsx("td",{children:"Year of registration:"}),e.jsx("td",{children:t?.company_details?.registration_date})]}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:"Trading Status:"}),e.jsx("td",{children:t?.company_details?.trading_status}),e.jsx("td",{children:"Industry Sector"}),e.jsx("td",{children:t?.company_details?.industry})]})]})}),e.jsx("table",{className:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#b4c6e7"},children:e.jsx("th",{scope:"row",colSpan:6,className:"text-center",children:"Contact Details"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:"Telephone No.:"}),e.jsx("td",{children:t?.company_details?.telephone}),e.jsx("td",{children:"Mobile No.:"}),e.jsx("td",{children:t?.company_details?.mobile_phone})]}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:"Physical Address:"}),e.jsx("td",{colSpan:3,children:t?.company_details?.current_address})]}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:"Email :"}),e.jsx("td",{children:t?.company_details?.email}),e.jsx("td",{children:"Website:"}),e.jsx("td",{children:t?.company_details?.website})]})]})})]})}),e.jsx("div",{className:"mb-5",style:{border:"1px solid #176987",width:"100%",padding:"2px"},children:e.jsx("div",{style:{padding:"10px"},children:e.jsx("table",{className:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#305496"},children:e.jsx("th",{scope:"row",colSpan:7,className:"text-center text-white",children:"OUTSTANDING RENTALS"})}),e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#b4c6e7"},children:e.jsx("th",{scope:"row",colSpan:5,className:"text-center ",children:"Claims"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:"Claimant"}),e.jsx("td",{children:"Type"}),e.jsx("td",{children:"Currency"}),e.jsx("td",{children:"Amount"}),e.jsx("td",{children:"Date of Claim "})]}),t?.claims_list?.length>0&&t?.claims_list?.map((a,c)=>e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:a.creditor}),e.jsx("td",{children:a.type}),e.jsx("td",{children:a.currency}),e.jsx("td",{children:a?.owing_amount?Number(a.owing_amount).toFixed(2):""}),e.jsx("td",{children:a.claim_date})]},"claim"+c))]})})})}),e.jsx("div",{className:"mb-5",style:{border:"1px solid #176987",width:"100%",padding:"2px"},children:e.jsxs("div",{style:{padding:"10px"},children:[e.jsx("table",{className:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#b4c6e7"},children:e.jsx("th",{scope:"row",colSpan:7,className:"text-center",children:"Active"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:"Creditor"}),e.jsx("td",{children:"Type"}),e.jsx("td",{children:"Outstanding since"}),e.jsx("td",{children:"Amount"})]}),t?.credit_details?.map(a=>e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:a.credit_type}),e.jsxs("td",{children:[" ",a.type||""]}),e.jsxs("td",{children:[" ",a.start_date]}),e.jsxs("td",{children:[" ",a?.overdue_amount?Number(a.overdue_amount).toFixed(2):""]})]},a.lease_id))]})}),e.jsx("table",{className:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#b4c6e7"},children:e.jsx("th",{scope:"row",colSpan:10,className:"text-center ",children:"Historic"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{className:"",scope:"row",colSpan:2,children:"Creditor"}),e.jsx("td",{className:"",children:"Type"}),e.jsx("td",{className:"",children:"Outstanding Since"}),e.jsx("td",{className:"",children:" Amount"})]}),t?.historic_claims_list?.length>0&&t?.historic_claims_list?.map((a,c)=>e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsxs("th",{scope:"row",colSpan:2,children:[" ",a?.creditor]}),e.jsx("td",{children:a?.type||""}),e.jsx("td",{children:a?.claim_date}),e.jsx("td",{children:a?.balance_amount?Number(a.balance_amount).toFixed(2):""})]},"claim"+c))]})})]})}),e.jsxs("div",{style:{width:"100%",padding:"2px"},children:[e.jsx("hr",{}),e.jsxs("div",{children:[e.jsx("p",{children:"Disclaimer: This report is confidential and intended solely for the individual or entity to whom it is addressed. Information on this report is valid at the time of enquiry only. If verification is required, please contact us on the details provided above."}),e.jsx("p",{children:"Terms and Conditions apply."}),e.jsx("p",{children:"Copyrights Â© CrediSafe Zimbabwe"}),e.jsx("p",{children:"All rights reserved"})]})]})]})}),e.jsxs(C.Footer,{children:[e.jsx(B,{variant:"secondary",onClick:l,children:"Close"}),e.jsx(B,{variant:"primary",onClick:v,children:"Print"})]})]})})}function ae(x){const[l,j]=d.useState(!1),[t,r]=d.useState(!1),[v,a]=d.useState([]),[c,u]=d.useState(!1),[g,i]=d.useState(!1),[s,p]=d.useState(!1),[o,n]=d.useState(!0),[N,b]=d.useState(!1),[f,k]=d.useState(),[T,S]=d.useState(!1),[R,m]=d.useState({}),[y,z]=d.useState(!1),[L,P]=d.useState(null),{data:I,setData:H,post:F}=E({searchParam:"registration_name",searchValue:""}),O=()=>j(!1),q=()=>j(!0),U=()=>S(!1),W=()=>b(!0);function $(A,w){A.preventDefault();try{i(!0),h.loading("Loading...",{duration:2500,position:"top-center"}),w&&(V.post(reverseUrl("enquiry_count"),{isIndividual:!1,isCompany:!0,companyId:w}).then(_=>{}),V.post(reverseUrl("company-report"),{companyId:w}).then(_=>{P(w),_.data?.is_eligible?_.data?.require_otp?(z(!0),k(_.data)):(S(!0),k(_.data)):h.error("You have exhausted your free enquiries. Please subscribe to get more enquiries.",{duration:4e3,id:"error_"})}).catch(_=>{console.error("There was an error!",_)}))}finally{i(!1)}}function Y(){n(!0),p(!1)}function G(){p(!0),n(!1)}function X(A){H({...I,[A.target.id]:A.target.value})}function Z(A){if(A.preventDefault(),I.searchValue===""){m({searchValue:"Please enter a search value"});return}F(reverseUrl(x),{onStart:()=>{u(!0),a({}),m({}),r(!1)},onSuccess:w=>{w.props.result.length===0&&r(!0),w.props.result.length>0&&a(w.props.result),u(!1)},onError:()=>{h.error("Nothing to search..."),u(!1)}})}return{data:I,show:l,notFound:t,errors:R,isSingle:o,isBulkAdd:N,reportData:f,showReport:T,showVerify:y,isMultiple:s,selectedRow:L,isLoading:c,fetchedData:v,isReportLoading:g,handleShow:q,handleClose:O,setNotFound:r,setIsBulkAdd:b,handleSingle:Y,setShowReport:S,changeHandler:X,submitHandler:Z,setShowVerify:z,handleMultiple:G,handleShowReport:$,handleCloseReport:U,handleBulkButtonClick:W}}const de=({show:x,handleClose:l,url:j,setVerified:t,verification_type:r,setCreditInfo:v})=>{const[a,c]=d.useState(!1),[u,g]=d.useState({}),{data:i,setData:s,post:p,reset:o}=E({otp:"",verification_type:r}),[n,N]=d.useState(!1),[b,f]=d.useState(30);d.useEffect(()=>{const m=setInterval(()=>{f(y=>y<=1?(clearInterval(m),N(!0),0):y-1)},1e3);return()=>clearInterval(m)},[]);const k=async()=>{N(!1);try{(await V.get(reverseUrl("new_otp"))).data.status==="success"?h.success("OTP sent successfully"):h.error("Something went wrong! Please try again")}catch{h.error("Something went wrong! Please try again")}},T=m=>s({...i,[m.target.id]:m.target.value}),S=()=>i.otp.length!==4?(g({otp:"otp must be four digits"}),!1):parseInt(i.otp,10)?!0:(g({otp:"otp must be a number"}),!1),R=m=>{m.preventDefault(),h.loading("Loading...",{position:"top-center",id:"loading",duration:2500}),S()&&(p(reverseUrl(j),{onStart:()=>{c(!0)},onSuccess:y=>{l(),o(),h.success("User verified successfully"),c(!1),t(!0)},onError:y=>{h.error("Something went wrong! Please try again"),g(y),c(!1)}}),c(!1))};return e.jsx(e.Fragment,{children:e.jsx(C,{size:"lg",show:x,onHide:l,centered:!0,children:e.jsx("div",{children:e.jsxs("div",{className:"card card-raised",children:[e.jsx(C.Header,{closeButton:!0,className:"card-header bg-info px-4",children:e.jsxs("div",{className:`d-flex justify-content-between
                                align-items-center`,children:[e.jsxs("div",{className:"me-4",children:[e.jsx("h2",{className:"display-6 mb-0 text-white",children:"Verify OTP"}),e.jsx("div",{className:"card-text"})]}),e.jsx("div",{className:"d-flex gap-2"})]})}),e.jsx("div",{className:"card-body p-4",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body p-4",style:{borderStyle:"solid",borderColor:"#26a69a"},children:[e.jsx(C.Body,{children:e.jsxs("div",{className:"row mb-4",children:[e.jsxs("div",{className:"col-md-12",children:[e.jsx("div",{children:e.jsx("p",{children:r==="individual"?"Enter the 4-digit code we sent to user's mobile number. This code will expire after 5 minutes":"Enter the 4-digit code we sent to user's email. This code will expire after 5 minutes"})}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Verification Code"}),e.jsx("input",{value:i.otp,onChange:T,type:"text",name:"otp",id:"otp",placeholder:"Enter your 4 digit otp",className:"form-control form-control-sm"}),u&&e.jsx("div",{className:"text-danger mt-1",children:u.otp})]})})]}),e.jsxs("div",{className:"mt-5 d-flex gap-4 align-items-center ",children:[e.jsxs("p",{children:["Didn't receive code?",e.jsx("button",{onClick:k,className:"ms-2 text-decoration-underline border-0 bg-transparent text-info",disabled:n===!1,children:"Resend Code"})]}),b>0&&e.jsx("p",{className:"text-success",children:`Resend code in ${b} seconds`})]})]})}),e.jsx(C.Footer,{children:e.jsx(B,{className:"text-white",variant:"info",onClick:m=>R(m),disabled:a,children:a?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-grow spinner-grow-sm"}),e.jsx("span",{className:"ml-2",children:"processing.."})]}):"Verify"})})]})})})]})})})})};function ce(x,l,j,t){const{data:r,errors:v,processing:a,setData:c,reset:u,post:g}=E({note:l?.note||"",company_id:l?.id||"",branch:l?.branch||"",website:l?.website||"",landLine:l?.landline||"",industry:l?.industry||"",emailAddress:l?.email||"",is_gvt:l?.is_government||!1,vatNumber:l?.vat_number||"",tinNumber:l?.tin_number||"",tradingName:l?.trading_name||"",mobileNumber:l?.mobile_phone||"",is_contracted:l?.is_contracted||!1,registeredName:l?.registration_name||"",registrationDate:l?.registration_date||"",companyRegistrationNumber:l?.registration_number||"",currentAddress:l?.address||"",unitNumber:l?.unit_number||"",buildingName:l?.building_name||"",streetNumber:l?.street_number||"",streetName:l?.street_name||"",suburb:l?.suburb||"",city:l?.city||"",province:l?.province||"",country:l?.country||"",areaCode:l?.area_code||""});function i(o){o.target.id==="is_gvt"?c({...r,[o.target.id]:o.target.checked}):c({...r,[o.target.id]:o.target.value})}function s(o){o.preventDefault(),r.registeredName=r.branch?`${r.registeredName.split(" - ")[0]} - ${r.branch}`:r.registeredName,g(reverseUrl("edit_company_user"),{onSuccess(n){n?.status==="success"?(h.success(n.data.message),t(N=>[...N.filter(f=>f.id!==r.company_id),{id:r.company_id,registration_name:r.registeredName,trading_name:r.tradingName,registration_number:r.companyRegistrationNumber,registration_date:r.registrationDate,vat_number:r.vatNumber,tin_number:r.tinNumber,address:r.currentAddress,landline:r.landLine,mobile_phone:r.mobileNumber,email:r.emailAddress,website:r.website,industry:r.industry,note:r.note}]),u(),j()):h.error(M(n))}})}function p(o){o.preventDefault(),r.registeredName+=r.branch?" - "+r.branch:"",g(reverseUrl(x),{onSuccess(n){n.props.success?(u(),j(),h.success(n.props.success)):h.error(M(n))},onError(n){h.error(M(n))}})}return{data:r,errors:v,isLoading:a,handleEdit:s,submitSingle:p,changeHandler:i}}const oe=({show:x,handleClose:l,isSingle:j,handleSingle:t,isMultiple:r,handleMultiple:v,url:a,action:c,companyData:u,setFetchedData:g})=>{const{data:i,errors:s,isLoading:p,handleEdit:o,changeHandler:n,submitSingle:N}=ce(a,u,l,g),b=j?"single":r?"multiple":"";return e.jsx(re,{size:"lg",show:x,handleClose:l,titleOverideContent:e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx("button",{className:`btn btn-sm ${b==="single"?"btn-info text-white":"btn-light border border-2"}`,onClick:t,children:"Single"}),e.jsx("button",{className:`btn btn-sm ${b==="multiple"?"btn-info text-white":"btn-light border border-2"}`,onClick:v,children:"Multiple"})]}),children:e.jsx("div",{style:{minHeight:"600px"},className:"p-3",children:b==="single"?e.jsxs("form",{onSubmit:c==="create"?N:o,children:[e.jsxs("fieldset",{className:"p-4 mb-4",children:[e.jsx("legend",{children:c==="create"?"Add Company":"Edit Company"}),e.jsxs("p",{className:"text-center fw-bold",children:["All fields marked with a star (",e.jsx("span",{className:"text-danger",children:"*"}),") are required."]}),e.jsxs("div",{className:"row row-cols-3 mb-2",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label",children:["Registered Name",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{required:!0,value:i.registeredName,onChange:n,name:"registeredName",id:"registeredName",className:"form-control form-control-sm "}),s?.registeredName&&e.jsx("div",{className:"small px-2 text-danger mt-1",children:s.registeredName})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label",children:["Trading Name",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{required:!0,value:i.tradingName,onChange:n,name:"tradingName",id:"tradingName",className:"form-control form-control-sm "}),s?.tradingName&&e.jsx("div",{className:"small px-2 text-danger mt-1",children:s.tradingName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Branch"}),e.jsx("input",{value:i.branch,onChange:n,id:"branch",name:"branch",className:"form-control form-control-sm "}),s?.branch&&e.jsx("div",{className:"px-2 small text-danger mt-1",children:s.branch})]})]}),e.jsxs("div",{className:"row row-cols-3 mb-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Registration Number"}),e.jsx("input",{value:i.companyRegistrationNumber,onChange:n,name:"companyRegistrationNumber",id:"companyRegistrationNumber",placeholder:"eg. 000/984/2020",className:"form-control form-control-sm "}),s?.companyRegistrationNumber&&e.jsx("div",{className:"small px-2 text-danger mt-1",children:s.companyRegistrationNumber})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Registration Date"}),e.jsx("input",{value:i.registrationDate,onChange:n,type:"date",name:"registrationDate",id:"registrationDate",className:"form-control form-control-sm "}),s.registrationDate&&e.jsx("div",{className:"small px-2 text-danger mt-1",children:s.registrationDate})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"VAT Number"}),e.jsx("input",{value:i.vatNumber,onChange:n,name:"vatNumber",id:"vatNumber",placeholder:"eg. 1123456789",className:"form-control form-control-sm "}),s?.vatNumber&&e.jsx("div",{className:"small px-2 text-danger mt-1",children:s.vatNumber})]})]}),e.jsxs("div",{className:"row row-cols-3 mb-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"TIN Number"}),e.jsx("input",{value:i.tinNumber,onChange:n,type:"text",name:"tinNumber",id:"tinNumber",className:"form-control form-control-sm "}),s?.tinNumber&&e.jsx("div",{className:"small px-2 text-danger mt-1",children:s.tinNumber})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Telephone Number"}),e.jsx("input",{type:"tel",value:i.landLine,onChange:n,placeholder:"123-456-7890",name:"landLine",id:"landLine",className:"form-control form-control-sm "}),s?.landLine&&e.jsx("div",{className:"small px-2 text-danger mt-1",children:s.landLine})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Mobile Number"}),e.jsx("input",{type:"tel",value:i.mobileNumber,onChange:n,placeholder:'eg. "263712345612"',id:"mobileNumber",name:"mobileNumber",className:"form-control form-control-sm "}),s?.mobileNumber&&e.jsx("div",{className:"px-2 small text-danger mt-1",children:s.mobileNumber})]})]}),e.jsxs("div",{className:"row row-cols-3 mb-2",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label",children:["Email Address",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{required:!0,type:"email",value:i.emailAddress,onChange:n,name:"emailAddress",id:"emailAddress",placeholder:"example@company.com",className:"form-control form-control-sm "}),s?.emailAddress&&e.jsx("div",{className:"small px-2 text-danger mt-1",children:s.emailAddress})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Website"}),e.jsx("input",{type:"url",value:i.website,onChange:n,id:"website",name:"website",placeholder:"https://your-website.com",className:"form-control form-control-sm "}),s?.website&&e.jsx("div",{className:"small px-2 text-danger mt-1",children:s.website})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Industry"}),e.jsxs("select",{className:"form-select form-select-sm ",name:"industry",id:"industry",value:i.industry,onChange:n,children:[e.jsx("option",{children:"Select..."}),te.map(f=>e.jsx("option",{value:f,children:f},f))]}),s?.industry&&e.jsx("div",{className:"small px-2 text-danger mt-1",children:s.industry})]})]}),e.jsxs("div",{className:"row row-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label"}),e.jsxs("div",{className:"form-check d-flex justify-content-center gap-2",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",name:"is_gvt",id:"is_gvt",checked:i.is_gvt,onChange:n}),e.jsx("label",{className:"form-check-label",children:"Government Org "})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Note"}),e.jsx("input",{value:i.note,onChange:n,id:"note",name:"note",placeholder:"additional notes...",className:"form-control form-control-sm "}),s?.note&&e.jsx("div",{className:"px-2 small text-danger mt-1",children:s.note})]})]})]}),e.jsxs("fieldset",{className:"p-4 mb-3",children:[e.jsx("legend",{children:"Address"}),e.jsxs("div",{className:"row row-cols-3 mb-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Unit Number"}),e.jsx("input",{value:i.unitNumber,onChange:n,id:"unitNumber",name:"unitNumber",className:"form-control form-control-sm "}),s?.unitNumber&&e.jsx("div",{className:"small px-2 text-danger mt-1",children:s.unitNumber})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Building / Complex Name"}),e.jsx("input",{value:i.buildingName,onChange:n,id:"buildingName",name:"buildingName",className:"form-control form-control-sm "}),s?.buildingName&&e.jsx("div",{className:"small px-2 text-danger mt-1",children:s.buildingName})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label",children:["Street Number",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{value:i.streetNumber,onChange:n,id:"streetNumber",required:!0,name:"streetNumber",className:"form-control form-control-sm "}),s?.streetNumber&&e.jsx("div",{className:"small px-2 text-danger mt-1",children:s.streetNumber})]})]}),e.jsxs("div",{className:"row row-cols-3 mb-2",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label",children:["Street Name",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{value:i.streetName,onChange:n,id:"streetName",required:!0,name:"streetName",className:"form-control form-control-sm "}),s?.streetName&&e.jsx("div",{className:"small px-2 text-danger mt-1",children:s.streetName})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label",children:["Suburb / Area",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{value:i.suburb,onChange:n,id:"suburb",required:!0,name:"suburb",className:"form-control form-control-sm "}),s?.suburb&&e.jsx("div",{className:"small px-2 text-danger mt-1",children:s.suburb})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label",children:["City / Town",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{value:i.city,onChange:n,id:"city",required:!0,name:"city",className:"form-control form-control-sm "}),s?.city&&e.jsx("div",{className:"small px-2 text-danger mt-1",children:s.city})]})]}),e.jsxs("div",{className:"row row-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Province"}),e.jsx("input",{value:i.province,onChange:n,id:"province",name:"province",className:"form-control form-control-sm "}),s?.province&&e.jsx("div",{className:"small px-2 text-danger mt-1",children:s.province})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label",children:["Country",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{value:i.country,onChange:n,id:"country",required:!0,name:"country",className:"form-control form-control-sm "}),s?.country&&e.jsx("div",{className:"small px-2 text-danger mt-1",children:s.country})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label",children:["Area Code",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{value:i.areaCode,onChange:n,id:"areaCode",required:!0,name:"areaCode",className:"form-control form-control-sm "}),s?.areaCode&&e.jsx("div",{className:"small px-2 text-danger mt-1",children:s.areaCode})]})]})]}),e.jsx("div",{className:"text-end",children:e.jsx("button",{type:"submit",disabled:p,className:"btn btn-info text-white",children:p?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-grow spinner-grow-sm"}),e.jsx("span",{className:"ms-2",children:"processing.."})]}):"Save and Proceed"})})]}):e.jsx(se,{type:"company",actionType:"user"})})})};function me({url:x}){const{data:l,show:j,notFound:t,errors:r,isSingle:v,isBulkAdd:a,reportData:c,showReport:u,showVerify:g,isMultiple:i,selectedRow:s,isLoading:p,fetchedData:o,isReportLoading:n,handleShow:N,handleClose:b,setNotFound:f,setIsBulkAdd:k,handleSingle:T,setShowReport:S,changeHandler:R,submitHandler:m,setShowVerify:y,handleMultiple:z,handleShowReport:L,handleCloseReport:P,handleBulkButtonClick:I}=ae(x);return e.jsxs("div",{children:[e.jsxs(e.Fragment,{children:[e.jsx(J,{title:"Search Company"}),e.jsx(ee,{type:"company",actionType:"user",show:a,handleClose:()=>k(!1)}),e.jsx(ie,{showReport:u,handleCloseReport:P,selectedRow:s,reportData:c}),e.jsx(de,{show:g,handleClose:()=>y(!1),setVerified:S,verification_type:"company",url:"verify_company_otp"}),e.jsx(oe,{show:j,handleClose:b,handleShow:N,isSingle:v,handleSingle:T,isMultiple:i,handleMultiple:z,url:"client-create-company",action:"create"})]}),e.jsxs("div",{className:"container-xl",children:[e.jsx(le,{title:"Search Company"}),e.jsxs("table",{className:"table table-sm table-bordered border-2 bg-white",children:[e.jsxs("thead",{className:"position-sticky c-table-top bg-white c-z-5",children:[e.jsx("tr",{children:e.jsx("th",{colSpan:4,children:e.jsxs("form",{className:"d-flex gap-3 align-items-end p-2",onSubmit:m,children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label",htmlFor:"searchValue",children:"Filter by Registered Name / Number"}),e.jsx("input",{className:"form-control form-control",value:l.searchValue,onChange:R,placeholder:"search...",name:"searchValue",id:"searchValue"}),r.searchValue&&e.jsx("small",{className:"text-danger p-1",children:r.searchValue})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",htmlFor:"searchParam",children:"Select filter Parameter"}),e.jsxs("select",{name:"searchParam",id:"searchParam",className:"form-select",onChange:R,children:[e.jsx("option",{value:"registration_name",children:"Registered Name"}),e.jsx("option",{value:"registration_number",children:"Registration Number"})]})]}),e.jsxs("button",{type:"submit",disabled:p,className:"btn btn-info text-white",children:[e.jsx("i",{className:"leading-icon material-icons",children:"search"}),p?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-grow spinner-grow-sm"}),e.jsx("span",{className:"ms-2",children:"Searching.."})]}):"Search"]}),e.jsx(Q,{handleClick:I})]})})}),e.jsxs("tr",{className:"c-bg-light",children:[e.jsx("th",{className:"px-3",children:"Registered Name"}),e.jsx("th",{className:"px-3",children:"Registration Number"}),e.jsx("th",{className:"px-3 text-center",children:"Select"})]})]}),e.jsx("tbody",{children:p?e.jsx("tr",{children:e.jsx("td",{colSpan:4,children:e.jsxs("div",{className:"custom-h-2 d-flex align-items-center justify-content-center p-5",children:[e.jsx("span",{className:"spinner-grow spinner-grow-sm me-2 text-info"}),e.jsx("span",{children:"Searching.."})]})})}):o?.length>0&&o.map(H=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-3",children:H.registration_name}),e.jsx("td",{className:"px-3",children:H.registration_number}),e.jsx("td",{className:"text-center",children:e.jsx("button",{disabled:n,className:"btn btn-info text-white text-center justify-content-center w-100 btn-sm",onClick:F=>L(F,H.id),children:n?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-grow spinner-grow-sm"}),e.jsx("span",{className:"ms-2",children:"processing.."})]}):"View"})})]},H.id))})]}),t&&e.jsx("div",{className:"d-flex justify-content-center bg-white p-4",children:e.jsx(ne,{handleShow:N,userType:"company",searchValue:l.searchValue,handleCloseModal:()=>f(!1)})})]})]})}function he(){return e.jsx(me,{url:"cl-search-companies"})}he.layout=x=>e.jsx(K,{children:x});export{he as default};
