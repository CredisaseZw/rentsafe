import{u,a as b,j as e}from"./main-fd1dbebb.js";import{L as g}from"./Layout-7d6b92ff.js";import{S as x}from"./SearchBar-8740523e.js";import{P as f}from"./PaginationControls-c349fe9a.js";import{f as l}from"./formatting-fad57ba1.js";import"./lodash-1fb00506.js";import"./Modal-d83c389c.js";import"./removeClass-ca95e0eb.js";import"./index-6b877c29.js";import"./assertThisInitialized-3be3daa4.js";import"./MultipleUpload-3d28a641.js";import"./index-cf4ac53f.js";import"./search-0091414d.js";import"./Button-5fcf723c.js";function w(){const{props:{tenant_list:s,total_pages:i,total_items:o,current_page:h}}=u(),{data:a,get:c}=b();function n(r){const d=`/clients/accounting/detailed-statement/${r}/`;c(d)}const t=s.filter(r=>r.lease_currency_type.toUpperCase()==="USD"),m=s.filter(r=>r.lease_currency_type.toUpperCase()!=="USD"),j=t.reduce((r,d)=>r+parseFloat(d.owing_amount),0),p=m.reduce((r,d)=>r+parseFloat(d.owing_amount),0);return{data:a,tenants:s,usdTotal:j,zwlTotal:p,total_pages:i,total_items:o,current_page:h,usdStatements:t,zwlStatements:m,onOpenStatement:n,get:c}}function N(){const{usdTotal:s,zwlTotal:i,total_pages:o,current_page:h,usdStatements:a,zwlStatements:c,onOpenStatement:n}=w();return e.jsxs("div",{children:[e.jsx("h5",{className:"bg-info text-center text-white p-2 mb-4 rounded-2",children:"CUSTOMER SUMMARY"}),e.jsxs("div",{className:"p-2 fw-bold d-flex justify-content-between align-items-center",children:[e.jsx("div",{children:"USD"}),e.jsxs("div",{children:["Date: ",new Date().toLocaleDateString()]})]}),e.jsxs("table",{className:"table table-bordered table-responsive table-sm c-fs-small",children:[e.jsxs("thead",{className:"position-sticky c-table-top c-bg-whitesmoke",children:[e.jsx("tr",{children:e.jsx("td",{colSpan:7,children:e.jsx("div",{className:"col-4 p-0 pt-1",children:e.jsx(x,{searchBy:"search",placeholder:"Search..."})})})}),e.jsxs("tr",{className:"c-thead-bg rounded-2 c-force-borders",children:[e.jsx("th",{children:e.jsx("div",{children:" Customer # "})}),e.jsx("th",{children:e.jsx("div",{children:" Customer Name "})}),e.jsx("th",{children:e.jsx("div",{children:" Address "})}),e.jsx("th",{className:"text-end",children:e.jsx("div",{children:" Rent Owing"})}),e.jsx("th",{className:"bg-white",children:e.jsx("div",{})})]})]}),e.jsx("tbody",{children:a?.length>0&&a.map(t=>e.jsxs("tr",{children:[e.jsx("th",{children:t.id}),e.jsxs("td",{children:[t.tenant_name," "]}),e.jsx("td",{children:t.address}),e.jsx("td",{className:`text-end bg-${t.color} text-white`,style:{backgroundColor:t.color=="light-red"?"#f87171":""},children:Number(t.owing_amount)>=0?l(Number(t.owing_amount)):`(${l(Number(t.owing_amount)*-1)})`}),e.jsx("td",{className:"bg-info text-center",style:{fontWeight:"500",fontSize:"16px",color:"white",cursor:"pointer"},onClick:()=>n(t.id),children:"View"})]},t.id))}),e.jsx("tfoot",{className:"fw-bold c-fs-18",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Total"}),e.jsx("td",{}),e.jsx("td",{}),e.jsx("td",{className:"text-end",children:s>=0?l(s):`(${l(s*-1)})`}),e.jsx("td",{})]})})]}),e.jsxs("div",{className:"mt-5 p-2 fw-bold d-flex justify-content-between align-items-center",children:[e.jsx("div",{children:"ZWG"}),e.jsxs("div",{children:["Date: ",new Date().toLocaleDateString()]})]}),e.jsxs("table",{className:"table table-bordered table-responsive table-sm c-fs-small",children:[e.jsxs("thead",{className:"position-sticky c-table-top c-bg-whitesmoke",children:[e.jsx("tr",{children:e.jsx("td",{colSpan:7,children:e.jsx("div",{className:"col-4 p-0 pt-1",children:e.jsx(x,{searchBy:"search",placeholder:"Search..."})})})}),e.jsxs("tr",{className:"c-thead-bg rounded-2",children:[e.jsx("th",{children:"Tenant #"}),e.jsx("td",{children:"Tenant Name"}),e.jsx("td",{children:"Address"}),e.jsx("td",{className:"text-end",children:"Rent Owing"}),e.jsx("td",{className:"bg-white"})]})]}),e.jsx("tbody",{children:c?.length>0&&c.map(t=>e.jsxs("tr",{children:[e.jsx("th",{children:t.id}),e.jsxs("td",{children:[t.tenant_name," "]}),e.jsx("td",{children:t.address}),e.jsx("td",{className:`text-end bg-${t.color} text-white`,style:{backgroundColor:t.color=="light-red"?"#f87171":""},children:Number(t.owing_amount)>=0?l(Number(t.owing_amount)):`(${l(Number(t.owing_amount)*-1)})`}),e.jsx("td",{className:"bg-info text-center",style:{fontWeight:"500",fontSize:"16px",color:"white",cursor:"pointer"},onClick:()=>n(t.id),children:"View"})]},t.id))}),e.jsx("tfoot",{className:"fw-bold c-fs-18",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Total"}),e.jsx("td",{}),e.jsx("td",{}),e.jsx("td",{className:"text-end",children:i>=0?l(i):`(${l(i*-1)})`}),e.jsx("td",{})]})})]}),e.jsx("div",{className:"px-3",children:e.jsx(f,{currentPage:h,totalPages:o})})]})}N.layout=s=>e.jsx(g,{children:s,title:"Customer Statements"});export{N as default};
