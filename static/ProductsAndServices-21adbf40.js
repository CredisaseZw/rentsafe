import{R as j,j as e}from"./main-068d869f.js";import{C as f}from"./ContentModal-927e937c.js";import{L as N}from"./Layout-e59825ea.js";import{M as g}from"./MessageModal-c6883d7f.js";import{f as v}from"./index-1e0e23be.js";import"./Modal-e58d2605.js";import"./removeClass-62bd5a50.js";import"./index-35f89fe7.js";import"./lodash-f4f66215.js";import"./assertThisInitialized-3be3daa4.js";import"./formatting-9de8c923.js";import"./MultipleUpload-3edc427d.js";import"./search-05d60610.js";function y(){const[s,d]=j.useState(!1),[n,o]=j.useState(null),[h,t]=j.useState(null);function a(){d(!1)}function c(){d(!0)}function m(i){i.preventDefault(),console.log(Object.fromEntries(new FormData(i.target))),a()}function u(){console.log("Deleting item:",n),o(null)}function x(i){i.preventDefault(),console.log(Object.fromEntries(new FormData(i.target))),t(null)}return{showAdd:s,itemToEdit:h,itemToDelete:n,setItemToDelete:o,setItemToEdit:t,handleItemAddition:m,openShowAdd:c,handleClose:a,handleDelete:u,handleEdit:x}}function _({items:s=[],categories:d=[],currencies:n=[],tax_configurations:o=[]}){const{showAdd:h,itemToEdit:t,itemToDelete:a,setItemToDelete:c,setItemToEdit:m,handleItemAddition:u,handleDelete:x,openShowAdd:i,handleClose:p,handleEdit:b}=y();return e.jsxs("main",{children:[e.jsx(g,{show:!!a,handleClose:()=>c(null),title:"Delete Item",message:`Are you sure you want to delete ${a==null?void 0:a.name}?`,actionButtons:e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-sm btn-info text-white",onClick:()=>c(null),children:"Cancel"}),e.jsx("button",{className:"btn btn-sm btn-danger",onClick:x,children:"Delete"})]})}),e.jsx(f,{show:h||!!t,handleClose:()=>{p(),m(null)},title:t?"Edit Item":"Add Item",size:"md",children:e.jsxs("form",{className:"px-4 pb-5",onSubmit:t?b:u,children:[e.jsx("div",{className:"c-bg-light p-1 mb-3 text-center",children:"Item"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"category",className:"form-label",children:"Item Category"}),e.jsxs("select",{className:"form-select ",id:"category",name:"category",defaultValue:t?t.category:"",children:[e.jsx("option",{value:"",disabled:!0,children:"Select one"}),d.map((l,r)=>e.jsx("option",{value:l,children:l},r))]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"id",className:"form-label",children:"Item Id"}),e.jsx("input",{type:"text",className:"form-control",id:"id",name:"id",required:!0,defaultValue:t==null?void 0:t.id})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"name",className:"form-label",children:"Item Name"}),e.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",required:!0,defaultValue:t==null?void 0:t.name})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Unit Price"}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"w-50 d-flex",children:[e.jsx("label",{htmlFor:"unit_price_currency",className:"px-2 text-nowrap c-bg-light d-flex align-items-center",children:"Currency"}),e.jsxs("select",{className:"form-select rounded-0 px-1",id:"unit_price_currency",name:"unit_price_currency",required:!0,defaultValue:t?t.unit_price_currency:"",children:[e.jsx("option",{value:"",disabled:!0,children:"Select one"}),n!=null&&n.length?n.map((l,r)=>e.jsx("option",{value:l,children:l},r)):e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"ZIG",children:"ZIG"})]})]})]}),e.jsxs("div",{className:"w-50 d-flex",children:[e.jsx("label",{htmlFor:"unit_price",className:"px-2 text-nowrap c-bg-light d-flex align-items-center",children:"Unit Price"}),e.jsx("input",{type:"number",className:"form-control rounded-0",id:"unit_price",name:"unit_price",required:!0,defaultValue:t?t.unit_price:""})]})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"unit_name",className:"form-label",children:"Unit Name (optional)"}),e.jsx("input",{type:"text",className:"form-control",id:"unit_name",name:"unit_name",defaultValue:t?t.unit_name:""})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"tax_configuration",className:"form-label",children:"Tax Configuration"}),e.jsxs("select",{className:"form-select ",id:"tax_configuration",name:"tax_configuration",defaultValue:t?t.tax_configuration:"",children:[e.jsx("option",{value:"",disabled:!0,children:"Select one"}),o.map((l,r)=>e.jsx("option",{value:l,children:l},r))]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"sales_account",className:"form-label",children:"Sales Account"}),e.jsx("input",{type:"text",className:"form-control",id:"sales_account",name:"sales_account",required:!0,defaultValue:t?t.sales_account:""})]}),e.jsx("div",{className:"mt-5 text-center",children:e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})})]})}),e.jsxs("h5",{className:"position-relative text-center mb-2 p-2 mb-0",children:["Items",e.jsx("div",{className:"position-absolute top-0 end-0",children:e.jsxs("button",{className:"btn btn-info text-white",onClick:i,children:[e.jsx("i",{className:"leading-icon material-icons",children:"add"}),"Add"]})})]}),e.jsxs("table",{className:"table table-sm table-striped border bg-white",children:[e.jsx("thead",{className:"position-sticky c-table-top text-white bg-info shadow-sm c-z-5",children:e.jsxs("tr",{className:"c-force-borders c-force-borders-white",children:[e.jsx("th",{className:"ps-3",children:e.jsx("div",{children:"Category"})}),e.jsx("th",{children:e.jsx("div",{children:"Id "})}),e.jsx("th",{children:e.jsx("div",{children:"Name "})}),e.jsx("th",{children:e.jsx("div",{children:"Unit Price "})}),e.jsx("th",{children:e.jsx("div",{children:"Date Created "})}),e.jsx("th",{children:e.jsx("div",{children:" "})})]})}),e.jsxs("tbody",{children:[!(s!=null&&s.length)&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,children:e.jsx("div",{className:"custom-h-3 bg-white d-flex justify-content-center align-items-center",children:"Nothing to show"})})}),s==null?void 0:s.map((l,r)=>e.jsxs("tr",{children:[e.jsx("td",{className:"ps-3",children:l.category}),e.jsx("td",{className:"ps-3",children:l.id}),e.jsx("td",{className:"ps-3",children:l.name}),e.jsx("td",{className:"ps-3",children:l.unit_price}),e.jsx("td",{className:"ps-3",children:v(l.date_created)}),e.jsxs("td",{className:"d-flex gap-2 justify-content-end pe-3",children:[e.jsx("button",{className:"btn btn-sm btn-info text-white",onClick:()=>m(l),children:"Edit"}),e.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>c(l),children:"Delete"})]})]},r))]})]})]})}_.layout=s=>e.jsx(N,{children:s,title:"Sales Categories"});export{_ as default};
