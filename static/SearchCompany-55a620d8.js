var ae=Object.defineProperty,oe=Object.defineProperties;var xe=Object.getOwnPropertyDescriptors;var de=Object.getOwnPropertySymbols;var he=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable;var ce=(o,t,x)=>t in o?ae(o,t,{enumerable:!0,configurable:!0,writable:!0,value:x}):o[t]=x,Y=(o,t)=>{for(var x in t||(t={}))he.call(t,x)&&ce(o,x,t[x]);if(de)for(var x of de(t))me.call(t,x)&&ce(o,x,t[x]);return o},W=(o,t)=>oe(o,xe(t));var re=(o,t,x)=>new Promise((s,g)=>{var k=h=>{try{u(x.next(h))}catch(j){g(j)}},p=h=>{try{u(x.throw(h))}catch(j){g(j)}},u=h=>h.done?s(h.value):Promise.resolve(h.value).then(k,p);u((x=x.apply(o,t)).next())});import{r,a as ie,j as e,b as le,u as je,H as ue}from"./main-5ef5aaa0.js";import{L as ge}from"./Layout-be807b80.js";import{_ as f,I as be}from"./index-5741d9bf.js";import{N as Ne}from"./NotFound-4621d44e.js";import{P as fe}from"./PageHeader-b18c612c.js";import{M as pe}from"./MultipleUpload-6b129256.js";import{i as ye}from"./index-b3b37505.js";import{M as _}from"./Modal-3e0273fe.js";import{B as ne}from"./Button-5a693fb5.js";import{B as ve}from"./BulkUploadModal-b1b57ec1.js";import{B as we}from"./BulkIconButton-3ee54426.js";import"./removeClass-42ac91a8.js";import"./index-e3fd0780.js";const Se=({show:o,handleClose:t,handleShow:x,setAddSuccessful:s,isSingle:g,handleSingle:k,isMultiple:p,handleMultiple:u,url:h,action:j,companyData:n,setFetchedData:C})=>{const[w,S]=r.useState(!1),[i,H]=r.useState(""),{data:l,setData:A,post:R,reset:E}=ie({registeredName:n?n.registration_name:"",tradingName:n?n.trading_name:"",branch:n?n.branch:"",companyRegistrationNumber:n?n.registration_number:"",registrationDate:n?n.registration_date:"",vatNumber:n?n.vat_number:"",currentAddress:n?n.address:"",landLine:n?n.landline:"",mobileNumber:n?n.mobile_phone:"",emailAddress:n?n.email:"",website:n?n.website:"",industry:n?n.industry:"",note:n?n.note:"",is_gvt:n?n.is_government:!1,company_id:n?n.id:"",is_contracted:n?n.is_contracted:!1}),a=d=>{d.target.id==="is_gvt"?A(W(Y({},l),{[d.target.id]:d.target.checked})):A(W(Y({},l),{[d.target.id]:d.target.value}))},P=d=>{var b;d.preventDefault(),l.registeredName=l.branch!==""&&!((b=l.registeredName.split(" - ").at(-1))!=null&&b.length)?l.registeredName+" - "+l.branch:l.registeredName,le.post(reverseUrl("edit_company_user"),l).then(T=>{var z;T.data.status==="success"?(f.success(T.data.message),C(q=>[...q.filter(V=>V.id!==l.company_id),{id:l.company_id,registration_name:l.registeredName,trading_name:l.tradingName,registration_number:l.companyRegistrationNumber,registration_date:l.registrationDate,vat_number:l.vatNumber,address:l.currentAddress,landline:l.landLine,mobile_phone:l.mobileNumber,email:l.emailAddress,website:l.website,industry:l.industry,note:l.note}]),t()):(f.error(((z=T.data)==null?void 0:z.message)||"Something went wrong! Please try again"),t())})},m=d=>{d.preventDefault(),l.registeredName=l.branch!==""?l.registeredName+" - "+l.branch:l.registeredName,R(reverseUrl(h),{onStart:()=>{S(!0),H("")},onSuccess:b=>{E(),b.props.success?(f.success(b.props.success),S(!1),t(),s(!0)):f.error(b.props.error)},onError:b=>{f.error("Something went wrong! Please try again"),H(b),S(!1)}})};return e.jsx(e.Fragment,{children:e.jsx(_,{size:"lg",show:o,onHide:t,children:e.jsxs("div",{className:"card",children:[e.jsx(_.Header,{closeButton:!0,className:"card-header bg-transparent",style:{paddingLeft:"0px"},children:e.jsxs("div",{className:"",children:[e.jsx("button",{className:`btn  btn-sm ${g?"btn-info text-white":"btn-light"}`,onClick:k,children:"Single"}),e.jsx("button",{className:`btn  btn-sm ${p?"btn-info text-white":"btn-light"}`,onClick:u,children:"Multiple"})]})}),e.jsxs("div",{className:"card-body",style:{padding:"0px",borderStyle:"solid",borderColor:"#26a69a"},children:[g?e.jsx("div",{children:e.jsxs("div",{className:"card card-raised",children:[e.jsx("div",{className:"card-header bg-info",children:e.jsxs("div",{className:`d-flex justify-content-between
                            align-items-center`,children:[e.jsxs("div",{className:"me-4",children:[e.jsx("h2",{className:"display-6 mb-0 text-white",children:j==="create"?"Add Company":"Edit Company"}),e.jsx("div",{className:"card-text"})]}),e.jsx("div",{className:"d-flex gap-2"})]})}),e.jsx("div",{className:"card-body p-4",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header bg-info px-4",style:{paddingTop:"2px",paddingBottom:"2px"},children:e.jsx("div",{className:`d-flex justify-content-center
                            align-items-center`,children:e.jsxs("div",{className:"me-4",children:[e.jsx("h6",{className:"display-6 mb-0 text-white",children:"Company details"}),e.jsx("div",{className:"card-text"})]})})}),e.jsxs("div",{className:"card-body p-4",style:{borderStyle:"solid",borderColor:"#26a69a"},children:[e.jsxs(_.Body,{children:[e.jsxs("h5",{style:{backgroundColor:"#dda196",padding:"5px 10px",textAlign:"center",borderRadius:"5px"},children:[e.jsx("span",{className:"fw-bold",children:"Note"}),": All fields marked with a star (",e.jsx("span",{className:"text-danger",children:"*"}),") are required."]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12 my-4",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Registered Name",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{value:l.registeredName,onChange:a,type:"text",required:!0,name:"registeredName",id:"registeredName",placeholder:"eg. Company Name",className:"form-control form-control-sm"}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.registeredName})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Trading Name",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{value:l.tradingName,onChange:a,type:"text",required:!0,name:"tradingName",id:"tradingName",placeholder:"eg. Company Name",className:"form-control form-control-sm"}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.tradingName})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Branch"}),e.jsx("input",{value:l.branch,onChange:a,type:"text",id:"branch",name:"branch",placeholder:"Company Branch",className:"form-control form-control-sm"}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.branch})]})]})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Registration Number"}),e.jsx("input",{value:l.companyRegistrationNumber,onChange:a,type:"text",name:"companyRegistrationNumber",id:"companyRegistrationNumber",placeholder:"eg. 000/984/2020",className:"form-control form-control-sm"}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.companyRegistrationNumber})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Registration Date"}),e.jsx("input",{value:l.registrationDate,onChange:a,type:"date",name:"registrationDate",id:"registrationDate",className:"form-control form-control-sm"}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.registrationDate})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"VAT Number"}),e.jsx("input",{value:l.vatNumber,onChange:a,type:"text",name:"vatNumber",id:"vatNumber",placeholder:"eg. 1123456789",className:"form-control form-control-sm"}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.vatNumber})]})]})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Current Address",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("textarea",{value:l.currentAddress,onChange:a,type:"text",name:"currentAddress",required:!0,rows:"2",placeholder:"eg. 1234 Main St",id:"currentAddress",className:"form-control form-control-sm"}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.currentAddress})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Telephone Number"}),e.jsx("input",{value:l.landLine,onChange:a,type:"tel",placeholder:"123-456-7890",name:"landLine",id:"landLine",className:"form-control form-control-sm"}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.landLine})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Mobile Number"}),e.jsx("input",{value:l.mobileNumber,onChange:a,type:"tel",placeholder:'eg. "263712345612"',id:"mobileNumber",name:"mobileNumber",className:"form-control form-control-sm"}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.mobileNumber})]})]})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Email Address",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{value:l.emailAddress,onChange:a,type:"email",required:!0,name:"emailAddress",placeholder:"your-name@company-name.com",id:"emailAddress",className:"form-control form-control-sm"}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.emailAddress})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Website"}),e.jsx("input",{value:l.website,onChange:a,type:"url",id:"website",name:"website",placeholder:"https://your-website.com",className:"form-control form-control-sm"}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.website})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Industry"}),e.jsxs("select",{className:"form-select form-select-sm","aria-label":"Default select example",name:"industry",id:"industry",value:l.industry,onChange:a,children:[e.jsx("option",{children:"Select..."}),ye.map(d=>e.jsx("option",{value:d,children:d},d))]}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.industry}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.industry})]})]})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4 d-flex gap-2",children:[e.jsx("label",{className:"form-label",children:"Government Org"}),e.jsx("input",{type:"checkbox",name:"is_gvt",id:"is_gvt",checked:l.is_gvt,onChange:a,className:"form-check-input border-1 border-black"})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Note"}),e.jsx("textarea",{value:l.note,onChange:a,type:"text",id:"note",name:"note",placeholder:"Write your additional note here...",className:"form-control form-control-sm"}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.note})]})]})})})]}),e.jsx(_.Footer,{children:e.jsx(ne,{className:"text-white",variant:"info",onClick:j==="create"?m:P,disabled:w,children:w?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-grow spinner-grow-sm"}),e.jsx("span",{className:"ml-2",children:"processing.."})]}):"Save and Proceed"})})]})]})})]})}):"",p?e.jsx(pe,{type:"company",actionType:"user"}):""]})]})})})},_e=({show:o,handleClose:t,url:x,setVerified:s,verification_type:g,setCreditInfo:k})=>{const[p,u]=r.useState(!1),[h,j]=r.useState({}),{data:n,setData:C,post:w,reset:S}=ie({otp:"",verification_type:g}),[i,H]=r.useState(!1),[l,A]=r.useState(30);r.useEffect(()=>{const m=setInterval(()=>{A(d=>d<=1?(clearInterval(m),H(!0),0):d-1)},1e3);return()=>clearInterval(m)},[]);const R=()=>re(void 0,null,function*(){H(!1);try{(yield le.get(reverseUrl("new_otp"))).data.status==="success"?f.success("OTP sent successfully"):f.error("Something went wrong! Please try again")}catch(m){f.error("Something went wrong! Please try again")}}),E=m=>C(W(Y({},n),{[m.target.id]:m.target.value})),a=()=>n.otp.length!==4?(j({otp:"otp must be four digits"}),!1):parseInt(n.otp,10)?!0:(j({otp:"otp must be a number"}),!1),P=m=>{m.preventDefault(),f.loading("Loading...",{position:"top-center",id:"loading",duration:2500}),a()&&(w(reverseUrl(x),{onStart:()=>{u(!0)},onSuccess:d=>{t(),S(),f.success("User verified successfully"),u(!1),s(!0)},onError:d=>{f.error("Something went wrong! Please try again"),j(d),u(!1)}}),u(!1))};return e.jsx(e.Fragment,{children:e.jsx(_,{size:"lg",show:o,onHide:t,centered:!0,children:e.jsx("div",{children:e.jsxs("div",{className:"card card-raised",children:[e.jsx(_.Header,{closeButton:!0,className:"card-header bg-info px-4",children:e.jsxs("div",{className:`d-flex justify-content-between
                                align-items-center`,children:[e.jsxs("div",{className:"me-4",children:[e.jsx("h2",{className:"display-6 mb-0 text-white",children:"Verify OTP"}),e.jsx("div",{className:"card-text"})]}),e.jsx("div",{className:"d-flex gap-2"})]})}),e.jsx("div",{className:"card-body p-4",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body p-4",style:{borderStyle:"solid",borderColor:"#26a69a"},children:[e.jsx(_.Body,{children:e.jsxs("div",{className:"row mb-4",children:[e.jsxs("div",{className:"col-md-12",children:[e.jsx("div",{children:e.jsx("p",{children:g==="individual"?"Enter the 4-digit code we sent to user's mobile number. This code will expire after 5 minutes":"Enter the 4-digit code we sent to user's email. This code will expire after 5 minutes"})}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Verification Code"}),e.jsx("input",{value:n.otp,onChange:E,type:"text",name:"otp",id:"otp",placeholder:"Enter your 4 digit otp",className:"form-control form-control-sm"}),h&&e.jsx("div",{className:"text-danger mt-1",children:h.otp})]})})]}),e.jsxs("div",{className:"mt-5 d-flex gap-4 align-items-center ",children:[e.jsxs("p",{children:["Didn't receive code?",e.jsx("button",{onClick:R,className:"ms-2 text-decoration-underline border-0 bg-transparent text-info",disabled:i===!1,children:"Resend Code"})]}),l>0&&e.jsx("p",{className:"text-success",children:`Resend code in ${l} seconds`})]})]})}),e.jsx(_.Footer,{children:e.jsx(ne,{className:"text-white",variant:"info",onClick:m=>P(m),disabled:p,children:p?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-grow spinner-grow-sm"}),e.jsx("span",{className:"ml-2",children:"processing.."})]}):"Verify"})})]})})})]})})})})};function Ce({showReport:o,handleCloseReport:t,selectedRow:x,reportData:s}){var g,k,p,u,h,j,n,C,w,S,i,H,l,A,R,E,a,P,m,d,b,T,z,q,F,V,$,O,J,K,G,Q,Z,L,X,D,M,ee,se,y,N,v,B,U,te;return e.jsx(e.Fragment,{children:e.jsxs(_,{show:o,onHide:t,fullscreen:!0,children:[e.jsx(_.Body,{children:e.jsxs("div",{style:{border:"3px solid #176987",width:"100%",padding:"20px"},children:[e.jsxs("div",{class:"d-flex justify-content-between",children:[e.jsx("div",{children:"CrediSafe"}),e.jsxs("div",{class:"d-flex justify-content-between",children:[e.jsxs("div",{children:[e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{})]}),e.jsxs("div",{style:{lineHeight:"10px"},children:[e.jsx("p",{style:{textAlign:"right"},children:"+263 71 882 2460"}),e.jsx("p",{style:{textAlign:"right"},children:"credisafezw@gmail.com"}),e.jsx("p",{style:{textAlign:"right"},children:" www.credi-safe.com"})]})]})]}),e.jsx("div",{className:"mt-5 mb-2",children:e.jsxs("h6",{children:["Payment Risk Report on"," ",e.jsxs("span",{style:{fontWeight:"bold",color:"#176987"},children:[(g=s==null?void 0:s.company_details)==null?void 0:g.registration_name," "]}),"as at ",Date().toLocaleString()]})}),e.jsx("div",{className:"mb-5",style:{border:"1px solid #176987",width:"100%",padding:"5px"},children:e.jsx("div",{style:{padding:"10px"},children:e.jsx("table",{class:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#305496"},children:e.jsx("th",{scope:"row",colSpan:5,className:"text-center text-white",children:"RISK CLASSIFICATION / INDICATOR"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsxs("th",{style:{backgroundColor:((k=s==null?void 0:s.risk_data)==null?void 0:k.class)=="low"?(p=s==null?void 0:s.risk_data)==null?void 0:p.color:"",color:((u=s==null?void 0:s.risk_data)==null?void 0:u.class)=="low"?"white":""},scope:"row",className:"text-center",children:["Low Risk[",((h=s==null?void 0:s.risk_data)==null?void 0:h.class)=="low"?(j=s==null?void 0:s.risk_data)==null?void 0:j.score:"","]"]}),e.jsxs("td",{style:{backgroundColor:((n=s==null?void 0:s.risk_data)==null?void 0:n.class)=="medium"?(C=s==null?void 0:s.risk_data)==null?void 0:C.color:"",color:((w=s==null?void 0:s.risk_data)==null?void 0:w.class)=="medium"?"white":""},className:"text-center",children:["Medium Risk[",((S=s==null?void 0:s.risk_data)==null?void 0:S.class)=="medium"?(i=s==null?void 0:s.risk_data)==null?void 0:i.score:"","]"]}),e.jsxs("td",{style:{backgroundColor:((H=s==null?void 0:s.risk_data)==null?void 0:H.class)=="high"?"#f87171":"",color:((l=s==null?void 0:s.risk_data)==null?void 0:l.class)=="high"?"white":""},className:"text-center",children:["High Risk[",((A=s==null?void 0:s.risk_data)==null?void 0:A.class)=="high"?(R=s==null?void 0:s.risk_data)==null?void 0:R.score:"","]"]}),e.jsxs("td",{style:{backgroundColor:((E=s==null?void 0:s.risk_data)==null?void 0:E.class)=="high-high"?(a=s==null?void 0:s.risk_data)==null?void 0:a.color:"",color:((P=s==null?void 0:s.risk_data)==null?void 0:P.class)=="high-high"?"white":""},className:"text-center",children:["High-High Risk[",((m=s==null?void 0:s.risk_data)==null?void 0:m.class)=="high-high"?(d=s==null?void 0:s.risk_data)==null?void 0:d.score:"","]"]}),e.jsxs("td",{style:{backgroundColor:((b=s==null?void 0:s.risk_data)==null?void 0:b.class)=="non-payer"?(T=s==null?void 0:s.risk_data)==null?void 0:T.color:"",color:((z=s==null?void 0:s.risk_data)==null?void 0:z.class)=="non-payer"?"white":""},className:"text-center",children:["None Payer[",((q=s==null?void 0:s.risk_data)==null?void 0:q.class)=="non-payer"?(F=s==null?void 0:s.risk_data)==null?void 0:F.score:"","]"]})]})]})})})}),e.jsx("div",{className:"mb-5",style:{border:"1px solid #176987",width:"100%",padding:"2px"},children:e.jsxs("div",{style:{padding:"10px"},children:[e.jsx("table",{class:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#305496"},children:e.jsx("th",{scope:"row",colSpan:4,className:"text-center text-white",children:"COMPANY DETAILS"})}),e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#b4c6e7"},children:e.jsx("th",{scope:"row",colSpan:4,className:"text-center ",children:"Registration Details"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:"Registered Name :"}),e.jsxs("td",{children:[(V=s==null?void 0:s.company_details)==null?void 0:V.registration_name," "]}),e.jsx("td",{children:"Trading Name:"}),e.jsx("td",{children:($=s==null?void 0:s.company_details)==null?void 0:$.trading_name})]}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:"Registration number:"}),e.jsx("td",{children:(O=s==null?void 0:s.company_details)==null?void 0:O.registration_number}),e.jsx("td",{children:"Year of registration:"}),e.jsx("td",{children:(J=s==null?void 0:s.company_details)==null?void 0:J.registration_date})]}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:"Trading Status:"}),e.jsx("td",{children:(K=s==null?void 0:s.company_details)==null?void 0:K.trading_status}),e.jsx("td",{children:"Industry Sector"}),e.jsx("td",{children:(G=s==null?void 0:s.company_details)==null?void 0:G.industry})]})]})}),e.jsx("table",{class:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#b4c6e7"},children:e.jsx("th",{scope:"row",colSpan:6,className:"text-center",children:"Contact Details"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:"Telephone No.:"}),e.jsx("td",{children:(Q=s==null?void 0:s.company_details)==null?void 0:Q.telephone}),e.jsx("td",{children:"Mobile No.:"}),e.jsx("td",{children:(Z=s==null?void 0:s.company_details)==null?void 0:Z.mobile_phone})]}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:"Physical Address:"}),e.jsx("td",{colSpan:3,children:(L=s==null?void 0:s.company_details)==null?void 0:L.current_address})]}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:"Email :"}),e.jsx("td",{children:(X=s==null?void 0:s.company_details)==null?void 0:X.email}),e.jsx("td",{children:"Website:"}),e.jsx("td",{children:(D=s==null?void 0:s.company_details)==null?void 0:D.website})]})]})})]})}),e.jsx("div",{className:"mb-5",style:{border:"1px solid #176987",width:"100%",padding:"2px"},children:e.jsxs("div",{style:{padding:"10px"},children:[e.jsx("table",{class:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#305496"},children:e.jsx("th",{scope:"row",colSpan:7,className:"text-center text-white",children:"CREDIT ACCOUNTS"})}),e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#b4c6e7"},children:e.jsx("th",{scope:"row",colSpan:7,className:"text-center",children:"Active Credit Accounts"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:"Credit Type"}),e.jsx("td",{children:"Currency"}),e.jsx("td",{children:"Start Date"}),e.jsx("td",{children:"End Date"}),e.jsx("td",{children:"Principal Amount"}),e.jsx("td",{children:"Instalment Amount"}),e.jsx("td",{children:"Overdue Amount"})]}),(M=s==null?void 0:s.credit_details)==null?void 0:M.map(c=>e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:c.credit_type}),e.jsx("td",{children:c.currency}),e.jsxs("td",{children:[" ",c.start_date]}),e.jsxs("td",{children:[" ",c.end_date]}),e.jsxs("td",{children:[" ",c.principal_amount]}),e.jsxs("td",{children:[" ",c.instalment_amount]}),e.jsxs("td",{children:[" ",c.overdue_amount]})]},c.lease_id))]})}),e.jsx("table",{class:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#b4c6e7"},children:e.jsx("th",{scope:"row",colSpan:10,className:"text-center ",children:"Hire Purchase Information"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{className:"text-center",scope:"row",children:"Credit Type"}),e.jsx("td",{className:"text-center",children:"Make"}),e.jsx("td",{className:"text-center",children:"Model"}),e.jsx("td",{className:"text-center",children:"Reg No. /Serial No."}),e.jsx("td",{className:"text-center",children:"Chassis No."}),e.jsx("td",{className:"text-center",children:"Engin No."}),e.jsx("td",{className:"text-center",children:"Start Date"}),e.jsx("td",{className:"text-center",children:"End Date"}),e.jsx("td",{className:"text-center",children:"Balance"}),e.jsx("td",{className:"text-center",children:"Overdue Amount"})]})]})}),e.jsx("table",{class:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#b4c6e7"},children:e.jsx("th",{scope:"row",colSpan:10,className:"text-center ",children:"Historic Credit Accounts"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{className:"text-center",scope:"row",colSpan:2,children:"Credit Type"}),e.jsx("td",{className:"text-center",children:"Currency"}),e.jsx("td",{className:"text-center",children:"Start Date"}),e.jsx("td",{className:"text-center",children:"End Date"}),e.jsx("td",{className:"text-center",children:"Principal Amount"}),e.jsx("td",{className:"text-center",children:"Instalment Amount"})]}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{className:"text-center",scope:"row",colSpan:2,children:"Bank Loan"}),e.jsx("td",{className:"text-center"}),e.jsx("td",{className:"text-center"}),e.jsx("td",{className:"text-center"}),e.jsx("td",{className:"text-center"}),e.jsx("td",{className:"text-center"})]})]})})]})}),e.jsx("div",{className:"mb-5",style:{border:"1px solid #176987",width:"100%",padding:"2px"},children:e.jsxs("div",{style:{padding:"10px"},children:[e.jsx("table",{class:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#305496"},children:e.jsx("th",{scope:"row",colSpan:7,className:"text-center text-white",children:"ADVERSE RECORDS"})}),e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#b4c6e7"},children:e.jsx("th",{scope:"row",colSpan:4,className:"text-center ",children:"Claims"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:"Claimant"}),e.jsx("td",{children:"Currency"}),e.jsx("td",{children:"Amount"}),e.jsx("td",{children:"Date of Claim "})]}),((ee=s==null?void 0:s.claims_list)==null?void 0:ee.length)>0&&((se=s==null?void 0:s.claims_list)==null?void 0:se.map((c,I)=>e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:c.creditor}),e.jsx("td",{children:c.currency}),e.jsx("td",{children:c.owing_amount}),e.jsx("td",{children:c.claim_date})]},"claim"+I)))]})}),e.jsx("table",{class:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#b4c6e7"},children:e.jsx("th",{scope:"row",colSpan:3,className:"text-center ",children:"Absconder"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{className:"text-center",scope:"row",children:"Creditor"}),e.jsx("td",{className:"text-center",children:"Currency"}),e.jsx("td",{className:"text-center",children:"Amount"})]})]})}),e.jsx("table",{class:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#b4c6e7"},children:e.jsx("th",{scope:"row",colSpan:10,className:"text-center ",children:"Court Judgements"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{className:"text-center",scope:"row",colSpan:2,children:"Court"}),e.jsx("td",{className:"text-center",children:"Plaintiff"}),e.jsx("td",{className:"text-center",children:"Case No"}),e.jsx("td",{className:"text-center",children:"Currency"}),e.jsx("td",{className:"text-center",children:"Amount"}),e.jsx("td",{className:"text-center",children:"Judgement Date"})]})]})})]})}),e.jsx("div",{className:"mb-5",style:{border:"1px solid #176987",width:"100%",padding:"2px"},children:e.jsxs("div",{style:{padding:"10px"},children:[e.jsx("table",{class:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#305496"},children:e.jsx("th",{scope:"row",colSpan:7,className:"text-center text-white",children:"ENQUIRIES"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:"Company"}),e.jsx("td",{children:"Enquirer"}),e.jsx("td",{children:"Date Of Enquiry"})]}),((y=s==null?void 0:s.external_enquiry_details_list)==null?void 0:y.length)>0&&e.jsx(e.Fragment,{children:(v=(N=s==null?void 0:s.external_enquiry_details_list)==null?void 0:N.sort((c,I)=>new Date(I.enquiry_date)-new Date(c.enquiry_date)))==null?void 0:v.map((c,I)=>e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{className:"text-center",scope:"row",children:c.company_name}),e.jsx("td",{className:"text-center",children:c.enquirer}),e.jsx("td",{className:"text-center",children:c.enquiry_date})]},I))})]})}),(s==null?void 0:s.is_internal)&&e.jsx("table",{class:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#b4c6e7"},children:e.jsx("th",{scope:"row",colSpan:3,className:"text-center ",children:"Internal"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{className:"text-center",scope:"row",children:"Enquirer"}),e.jsx("td",{className:"text-center",children:"Enquiry Date"})]}),((B=s==null?void 0:s.internal_enquiry_details_list)==null?void 0:B.length)>0&&e.jsx(e.Fragment,{children:(te=(U=s==null?void 0:s.internal_enquiry_details_list)==null?void 0:U.sort((c,I)=>new Date(I.enquiry_date)-new Date(c.enquiry_date)))==null?void 0:te.map((c,I)=>e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{className:"text-center",scope:"row",children:c.enquirer}),e.jsx("td",{className:"text-center",children:c.enquiry_date})]},I))})]})})]})}),e.jsx("div",{className:"mb-5",style:{border:"1px solid #176987",width:"100%",padding:"2px"},children:e.jsx("div",{style:{padding:"10px"},children:e.jsx("table",{class:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#305496"},children:e.jsx("th",{scope:"row",colSpan:7,className:"text-center text-white",children:"PUBLIC INFORMATION"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:"Record Date"}),e.jsx("td",{children:"Source"}),e.jsx("td",{children:"Summary"}),e.jsx("td",{children:"Link "})]})]})})})}),e.jsx("div",{style:{border:"1px solid #176987",width:"100%",padding:"2px"},children:e.jsxs("div",{style:{padding:"10px"},children:[e.jsx("table",{class:"table table-bordered",children:e.jsx("tbody",{children:e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#305496"},children:e.jsx("th",{scope:"row",colSpan:7,className:"text-center text-white",children:"AS KEY PERSON IN COMPANIES"})})})}),e.jsx("table",{class:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#b4c6e7"},children:e.jsx("th",{scope:"row",colSpan:3,className:"text-center ",children:"Directorships"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{className:"text-center",scope:"row",children:"Company"}),e.jsx("td",{className:"text-center",children:"Year Of Appointment"})]})]})}),e.jsx("table",{class:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#b4c6e7"},children:e.jsx("th",{scope:"row",colSpan:3,className:"text-center ",children:"Executive"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{className:"text-center",scope:"row",children:"Position"}),e.jsx("td",{className:"text-center",children:"Company"}),e.jsx("td",{className:"text-center",children:"Year Of Appointment"})]})]})})]})}),e.jsxs("div",{style:{width:"100%",padding:"2px"},children:[e.jsx("hr",{}),e.jsxs("div",{children:[e.jsx("p",{children:"Disclaimer: This report is confidential and intended solely for the individual or entity to whom it is addressed. Information on this report is valid at the time of enquiry only. If verification is required, please contact us on the details provided above."}),e.jsx("p",{children:"Terms and Conditions apply."}),e.jsx("p",{children:"Copyrights Â© CrediSafe Zimbabwe"}),e.jsx("p",{children:"All rights reserved"})]})]})]})}),e.jsxs(_.Footer,{children:[e.jsx(ne,{variant:"secondary",onClick:t,children:"Close"}),e.jsx(ne,{variant:"primary",onClick:t,children:"Print"})]})]})})}function ke({url:o}){const[t,x]=r.useState(!1),[s,g]=r.useState(!1),k=()=>g(!1),p=()=>g(!0),[u,h]=r.useState(!1),[j,n]=r.useState([]),[C,w]=r.useState(!1),[S,i]=r.useState(!1),[H,l]=r.useState(!1),[A,R]=r.useState(!1),[E,a]=r.useState(!0),[P,m]=r.useState(!1),[d,b]=r.useState(),[T,z]=r.useState(!1),[q,F]=r.useState({}),V=()=>z(!1);r.useState(!1);const[$,O]=r.useState(!1);je().props.Auth;const[J,K]=r.useState(null),G=(y,N)=>{y.preventDefault();try{i(!0),f.loading("Loading...",{duration:2500,position:"top-center"}),N&&(le.post(reverseUrl("enquiry_count"),{isIndividual:!1,isCompany:!0,companyId:N}).then(v=>{}),le.post(reverseUrl("company-report"),{companyId:N}).then(v=>{var B,U;K(N),(B=v.data)!=null&&B.is_eligible?(U=v.data)!=null&&U.require_otp?(O(!0),b(v.data)):(z(!0),b(v.data)):f.error("You have exhausted your free enquiries. Please subscribe to get more enquiries.",{duration:4e3,id:"error_"})}).catch(v=>{console.error("There was an error!",v)}))}finally{i(!1)}},Q=()=>{a(!0),R(!1)},Z=()=>{R(!0),a(!1)},{data:L,setData:X,post:D}=ie({searchParam:"registration_name",searchValue:""}),M=y=>X(W(Y({},L),{[y.target.id]:y.target.value})),ee=y=>{if(y.preventDefault(),L.searchValue===""){F({searchValue:"Please enter a search value"}),l(!1);return}D(reverseUrl(o),{onStart:()=>{w(!0),l(!1),n({}),F({}),h(!1)},onSuccess:N=>{N.props.result.length===0&&h(!0),N.props.result.length>0?n(N.props.result):l(!0),w(!1)},onError:N=>{f.error("Nothing to search..."),w(!1)}})},se=()=>{m(!0)};return e.jsxs("main",{children:[e.jsx(fe,{title:"Search Company"}),e.jsx(be,{position:"top-right",duration:"4000"}),e.jsxs("div",{className:"container-xl p-5",children:[e.jsx("div",{className:"row align-items-center mb-5",children:e.jsx("div",{className:"col-12 col-md-auto",children:e.jsx("form",{className:"mb-5",onSubmit:ee,children:e.jsxs("div",{className:"d-flex flex-column flex-sm-row gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label",htmlFor:"",children:"Filter by Registration Name / Number"}),e.jsx("input",{value:L.searchValue,onChange:M,type:"text",name:"searchValue",id:"searchValue",className:"form-control form-control"}),q.searchValue&&e.jsx("small",{className:"text-danger",children:q.searchValue})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",htmlFor:"",children:"Select filter Parameter"}),e.jsxs("select",{className:"form-select","aria-label":"Default select example",name:"searchParam",id:"searchParam",onChange:M,children:[e.jsx("option",{value:"registration_name",children:"Registration Name"}),e.jsx("option",{value:"registration_number",children:"Registration Number"})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("button",{className:"btn btn-raised-info text-white",type:"submit",disabled:C,children:[e.jsx("i",{className:"leading-icon material-icons",children:"search"}),C?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-grow spinner-grow-sm"}),e.jsx("span",{className:"ml-2",children:"Searching.."})]}):"Search"]})}),e.jsx("div",{className:"mt-4",children:e.jsx(we,{handleClick:se})})]})})})}),e.jsx(ve,{type:"company",actionType:"user",show:P,handleClose:()=>m(!1)}),e.jsx(Ce,{showReport:T,handleCloseReport:V,selectedRow:J,reportData:d}),e.jsx(_e,{show:$,handleClose:()=>O(!1),setVerified:z,verification_type:"company",url:"verify_company_otp"}),e.jsx(Se,{show:s,handleClose:k,handleShow:p,isSingle:E,handleSingle:Q,isMultiple:A,handleMultiple:Z,setAddSuccessful:x,url:"client-create-company",action:"create"}),e.jsx("div",{className:"card card-raised",children:e.jsx("div",{className:"card-body p-4",children:e.jsxs("div",{className:"datatable-wrapper datatable-loading no-footer sortable searchable fixed-columns",children:[e.jsxs("div",{className:"datatable-container",children:[e.jsx("table",{className:"table table-striped",children:e.jsxs("tbody",{children:[e.jsxs("tr",{style:{backgroundColor:"#e4e4e4"},children:[e.jsx("th",{scope:"col",children:"Registration Name"}),e.jsx("th",{scope:"col",children:"Registration Number"}),e.jsx("th",{scope:"col",children:"Select"})]}),C?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-grow spinner-grow-sm"}),e.jsx("span",{className:"ml-2",children:"searching.."})]}):j.length>0?j==null?void 0:j.map(({id:y,registration_number:N,registration_name:v})=>e.jsxs("tr",{children:[e.jsx("th",{scope:"row",children:v}),e.jsx("td",{children:N}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-info mdc-ripple-upgraded text-white ",type:"submit",disabled:S,onClick:B=>G(B,y),children:S?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-grow spinner-grow-sm"}),e.jsx("span",{className:"ml-2",children:"processing.."})]}):"View"})})]},y)):""]})}),e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-md-auto",children:u&&e.jsx(Ne,{handleShow:p,userType:"company",searchValue:L.searchValue,handleCloseModal:()=>h(!1)})})})]}),e.jsxs("div",{className:"datatable-bottom",children:[e.jsx("div",{className:"datatable-info"}),e.jsx("nav",{className:"datatable-pagination"})]})]})})})]})]})}function He(){return e.jsxs(e.Fragment,{children:[e.jsx(ue,{title:"Search company"}),e.jsx(ke,{url:"cl-search-companies"})]})}He.layout=o=>e.jsx(ge,{children:o,title:"Search Company"});export{He as default};
