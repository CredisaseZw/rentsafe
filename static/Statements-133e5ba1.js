import{u as p,a as u,j as e}from"./main-9ac28b85.js";import{L as b}from"./Layout-39104ce8.js";import{S as g,P as f}from"./PaginationControls-1eaa2b56.js";import{f as i}from"./formatting-9de8c923.js";import"./lodash-76f935d5.js";import"./assertThisInitialized-3be3daa4.js";import"./removeClass-c3f7257e.js";import"./Modal-b907f846.js";import"./index-16f2de47.js";import"./index-78cdb3e8.js";import"./MultipleUpload-96158893.js";import"./index-79bbb401.js";import"./search-138e444b.js";import"./Button-b564510a.js";function N(){const{props:{tenant_list:s,total_pages:c,total_items:a,current_page:h}}=p(),{data:d,get:l}=u();function n(r){const o=`/clients/accounting/detailed-statement/${r}/`;l(o)}const t=s.filter(r=>r.lease_currency_type.toUpperCase()==="USD"),x=s.filter(r=>r.lease_currency_type.toUpperCase()!=="USD"),m=t.reduce((r,o)=>r+parseFloat(o.owing_amount),0),j=x.reduce((r,o)=>r+parseFloat(o.owing_amount),0);return{data:d,tenants:s,usdTotal:m,zwlTotal:j,total_pages:c,total_items:a,current_page:h,usdStatements:t,zwlStatements:x,onOpenStatement:n,get:l}}function w(){const{usdTotal:s,zwlTotal:c,total_pages:a,current_page:h,usdStatements:d,zwlStatements:l,onOpenStatement:n}=N();return e.jsxs("div",{children:[e.jsx("h5",{className:"bg-info text-center text-white p-2 mb-4 rounded-2",children:"CUSTOMER SUMMARY"}),e.jsxs("div",{className:"p-2 fw-bold d-flex justify-content-between align-items-center",children:[e.jsx("div",{children:"USD"}),e.jsxs("div",{children:["Date: ",new Date().toLocaleDateString()]})]}),e.jsxs("table",{className:"table table-bordered table-responsive table-sm c-fs-small",children:[e.jsxs("thead",{className:"position-sticky c-table-top c-bg-whitesmoke",children:[e.jsx("tr",{children:e.jsx("td",{colSpan:7,children:e.jsx("div",{className:"col-4 p-0 pt-1",children:e.jsx(g,{searchBy:"search",placeholder:"Search..."})})})}),e.jsxs("tr",{className:"c-thead-bg rounded-2 c-force-borders",children:[e.jsx("th",{children:e.jsx("div",{children:" Customer # "})}),e.jsx("th",{children:e.jsx("div",{children:" Customer Name "})}),e.jsx("th",{children:e.jsx("div",{children:" Address "})}),e.jsx("th",{className:"text-end",children:e.jsx("div",{children:" Rent Owing"})}),e.jsx("th",{className:"bg-white",children:e.jsx("div",{})})]})]}),e.jsx("tbody",{children:(d==null?void 0:d.length)>0&&d.map(t=>e.jsxs("tr",{children:[e.jsx("th",{children:t.id}),e.jsxs("td",{children:[t.tenant_name," "]}),e.jsx("td",{children:t.address}),e.jsx("td",{className:`text-end bg-${t.color} text-white`,style:{backgroundColor:t.color=="light-red"?"#f87171":""},children:Number(t.owing_amount)>=0?i(Number(t.owing_amount)):`(${i(Number(t.owing_amount)*-1)})`}),e.jsx("td",{className:"bg-info text-center",style:{fontWeight:"500",fontSize:"16px",color:"white",cursor:"pointer"},onClick:()=>n(t.id),children:"View"})]},t.id))}),e.jsx("tfoot",{className:"fw-bold c-fs-18",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Total"}),e.jsx("td",{}),e.jsx("td",{}),e.jsx("td",{className:"text-end",children:s>=0?i(s):`(${i(s*-1)})`}),e.jsx("td",{})]})})]}),e.jsxs("div",{className:"mt-5 p-2 fw-bold d-flex justify-content-between align-items-center",children:[e.jsx("div",{children:"ZWG"}),e.jsxs("div",{children:["Date: ",new Date().toLocaleDateString()]})]}),e.jsxs("table",{className:"table table-bordered table-responsive table-sm c-fs-small",children:[e.jsx("thead",{className:"position-sticky c-table-top",children:e.jsxs("tr",{className:"c-thead-bg rounded-2",children:[e.jsx("th",{children:"Tenant #"}),e.jsx("td",{children:"Tenant Name"}),e.jsx("td",{children:"Address"}),e.jsx("td",{className:"text-end",children:"Rent Owing"}),e.jsx("td",{className:"bg-white"})]})}),e.jsx("tbody",{children:(l==null?void 0:l.length)>0&&l.map(t=>e.jsxs("tr",{children:[e.jsx("th",{children:t.id}),e.jsxs("td",{children:[t.tenant_name," "]}),e.jsx("td",{children:t.address}),e.jsx("td",{className:`text-end bg-${t.color} text-white`,style:{backgroundColor:t.color=="light-red"?"#f87171":""},children:Number(t.owing_amount)>=0?i(Number(t.owing_amount)):`(${i(Number(t.owing_amount)*-1)})`}),e.jsx("td",{className:"bg-info text-center",style:{fontWeight:"500",fontSize:"16px",color:"white",cursor:"pointer"},onClick:()=>n(t.id),children:"View"})]},t.id))}),e.jsx("tfoot",{className:"fw-bold c-fs-18",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Total"}),e.jsx("td",{}),e.jsx("td",{}),e.jsx("td",{className:"text-end",children:c>=0?i(c):`(${i(c*-1)})`}),e.jsx("td",{})]})})]}),e.jsx("div",{className:"px-3",children:e.jsx(f,{currentPage:h,totalPages:a})})]})}w.layout=s=>e.jsx(b,{children:s,title:"Customer Statements"});export{w as default};
