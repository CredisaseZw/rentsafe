var ne=Object.defineProperty,le=Object.defineProperties;var ie=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var te=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;var ee=(o,d,c)=>d in o?ne(o,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):o[d]=c,B=(o,d)=>{for(var c in d||(d={}))te.call(d,c)&&ee(o,c,d[c]);if(D)for(var c of D(d))de.call(d,c)&&ee(o,c,d[c]);return o},V=(o,d)=>le(o,ie(d));var se=(o,d,c)=>new Promise((s,x)=>{var k=l=>{try{j(c.next(l))}catch(u){x(u)}},N=l=>{try{j(c.throw(l))}catch(u){x(u)}},j=l=>l.done?s(l.value):Promise.resolve(l.value).then(k,N);j((c=c.apply(o,d)).next())});import{r as m,j as e,a as J,b as X,H as re}from"./main-1c3a2f1f.js";import{L as ce}from"./Layout-f025cbc2.js";import{B as ae}from"./BulkIconButton-af2a3c6d.js";import{h as oe}from"./html2pdf-39f62c90.js";import{M as C}from"./Modal-ee2fe7c3.js";import{B as Z}from"./Button-529c0bcb.js";import{B as he}from"./BulkUploadModal-51c1fb7d.js";import{_ as p,I as me}from"./index-3d227110.js";import{M as xe}from"./MultipleUpload-6fd52ff6.js";import{i as je}from"./index-c8db368f.js";import{N as ue}from"./NotFound-3c70827f.js";import"./lodash-50347b1e.js";import"./assertThisInitialized-3be3daa4.js";import"./removeClass-dd5641bc.js";import"./formatting-9de8c923.js";import"./index-e3d66e6b.js";import"./search-5435b3f7.js";import"./index-e4fc6d26.js";import"./Button-c9922f86.js";function ge({showReport:o,handleCloseReport:d,selectedRow:c,reportData:s}){var N,j,l,u,b,y,i,f,n,v,w,R,a,H,S,h,r,g,A,z,L,T,I,F,M,E,O,U,q,W,Y,$,G;const x=m.useRef(),k=()=>{const t=x.current;oe().from(t).set({margin:1,filename:"modal-content.pdf",html2canvas:{scale:2},jsPDF:{orientation:"portrait"}}).save()};return e.jsx(e.Fragment,{children:e.jsxs(C,{show:o,onHide:d,fullscreen:!0,children:[e.jsx(C.Body,{ref:x,children:e.jsxs("div",{style:{border:"3px solid #176987",width:"100%",padding:"20px"},children:[e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs("div",{children:[e.jsx("div",{children:"CrediSafe"}),e.jsx("div",{children:"Securing you rental investments"})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs("div",{children:[e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{})]}),e.jsxs("div",{style:{lineHeight:"10px"},children:[e.jsx("p",{style:{textAlign:"right"},children:"+263 71 882 2460"}),e.jsx("p",{style:{textAlign:"right"},children:"credisafezw@gmail.com"}),e.jsx("p",{style:{textAlign:"right"},children:" www.credi-safe.com"})]})]})]}),e.jsx("div",{className:"mt-5 mb-2",children:e.jsxs("h6",{children:["Rent Payment Status Report on"," ",e.jsxs("span",{style:{fontWeight:"bold",color:"#176987"},children:[(N=s==null?void 0:s.company_details)==null?void 0:N.registration_name," "]}),"as at ",Date().toLocaleString()]})}),e.jsx("div",{className:"mb-5",style:{border:"1px solid #176987",width:"100%",padding:"5px"},children:e.jsxs("div",{style:{padding:"10px"},children:[e.jsx("table",{className:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#190062"},children:e.jsx("th",{scope:"row",colSpan:5,className:"text-center text-white",children:"PAYMENT STATUS CLASSIFICATION/INDICATOR"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",className:"text-center",children:"Status"}),e.jsx("td",{style:{backgroundColor:((j=s==null?void 0:s.risk_data)==null?void 0:j.class)=="non-payer"?(l=s==null?void 0:s.risk_data)==null?void 0:l.color:((u=s==null?void 0:s.risk_data)==null?void 0:u.class)=="high-high"?(b=s==null?void 0:s.risk_data)==null?void 0:b.color:((y=s==null?void 0:s.risk_data)==null?void 0:y.class)=="high"?(i=s==null?void 0:s.risk_data)==null?void 0:i.color:((f=s==null?void 0:s.risk_data)==null?void 0:f.class)=="medium"?(n=s==null?void 0:s.risk_data)==null?void 0:n.color:((v=s==null?void 0:s.risk_data)==null?void 0:v.class)=="low"?(w=s==null?void 0:s.risk_data)==null?void 0:w.color:"",color:((R=s==null?void 0:s.risk_data)==null?void 0:R.class)=="non-payer"?"white":""},className:"text-center text-white",children:((a=s==null?void 0:s.risk_data)==null?void 0:a.class)=="non-payer"?"Non-Payer":((H=s==null?void 0:s.risk_data)==null?void 0:H.class)=="high-high"?"High-High":((S=s==null?void 0:s.risk_data)==null?void 0:S.class)=="high"?"High":((h=s==null?void 0:s.risk_data)==null?void 0:h.class)=="medium"?"Medium":((r=s==null?void 0:s.risk_data)==null?void 0:r.class)=="low"?"Low":""})]})]})}),e.jsx("table",{className:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#808080"},children:e.jsx("th",{scope:"row",colSpan:5,className:"text-center text-white",children:"STATUS INDEX"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",className:"text-center bg-success text-white",children:"Low"}),e.jsx("td",{style:{fontWeight:"bold"},className:"text-center bg-warning text-white",children:"Medium Risk"}),e.jsx("td",{style:{backgroundColor:"#ff33cc",fontWeight:"bold"},className:"text-center text-white",children:"High Risk - Lower"}),e.jsx("td",{style:{fontWeight:"bold",backgroundColor:"red"},className:"text-center text-white",children:"High Risk - Upper"}),e.jsx("td",{style:{fontWeight:"bold"},className:"text-center bg-dark text-white",children:"None Payer"})]}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",className:"text-center text-nowrap",children:"Current"}),e.jsx("td",{className:"text-center text-nowrap",children:"1st Month Outstanding"}),e.jsx("td",{className:"text-center text-nowrap",children:"2nd Month Outstanding"}),e.jsx("td",{className:"text-center text-nowrap",children:"3rd Month Outstanding"}),e.jsx("td",{className:"text-center text-nowrap",children:"+3 Months Outstanding"})]})]})})]})}),e.jsx("div",{className:"mb-5",style:{border:"1px solid #176987",width:"100%",padding:"2px"},children:e.jsxs("div",{style:{padding:"10px"},children:[e.jsx("table",{className:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#305496"},children:e.jsx("th",{scope:"row",colSpan:4,className:"text-center text-white",children:"COMPANY DETAILS"})}),e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#b4c6e7"},children:e.jsx("th",{scope:"row",colSpan:4,className:"text-center ",children:"Registration Details"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:"Registered Name :"}),e.jsxs("td",{children:[(g=s==null?void 0:s.company_details)==null?void 0:g.registration_name," "]}),e.jsx("td",{children:"Trading Name:"}),e.jsx("td",{children:(A=s==null?void 0:s.company_details)==null?void 0:A.trading_name})]}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:"Registration number:"}),e.jsx("td",{children:(z=s==null?void 0:s.company_details)==null?void 0:z.registration_number}),e.jsx("td",{children:"Year of registration:"}),e.jsx("td",{children:(L=s==null?void 0:s.company_details)==null?void 0:L.registration_date})]}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:"Trading Status:"}),e.jsx("td",{children:(T=s==null?void 0:s.company_details)==null?void 0:T.trading_status}),e.jsx("td",{children:"Industry Sector"}),e.jsx("td",{children:(I=s==null?void 0:s.company_details)==null?void 0:I.industry})]})]})}),e.jsx("table",{className:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#b4c6e7"},children:e.jsx("th",{scope:"row",colSpan:6,className:"text-center",children:"Contact Details"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:"Telephone No.:"}),e.jsx("td",{children:(F=s==null?void 0:s.company_details)==null?void 0:F.telephone}),e.jsx("td",{children:"Mobile No.:"}),e.jsx("td",{children:(M=s==null?void 0:s.company_details)==null?void 0:M.mobile_phone})]}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:"Physical Address:"}),e.jsx("td",{colSpan:3,children:(E=s==null?void 0:s.company_details)==null?void 0:E.current_address})]}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:"Email :"}),e.jsx("td",{children:(O=s==null?void 0:s.company_details)==null?void 0:O.email}),e.jsx("td",{children:"Website:"}),e.jsx("td",{children:(U=s==null?void 0:s.company_details)==null?void 0:U.website})]})]})})]})}),e.jsx("div",{className:"mb-5",style:{border:"1px solid #176987",width:"100%",padding:"2px"},children:e.jsx("div",{style:{padding:"10px"},children:e.jsx("table",{className:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#305496"},children:e.jsx("th",{scope:"row",colSpan:7,className:"text-center text-white",children:"OUTSTANDING RENTALS"})}),e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#b4c6e7"},children:e.jsx("th",{scope:"row",colSpan:5,className:"text-center ",children:"Claims"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:"Claimant"}),e.jsx("td",{children:"Type"}),e.jsx("td",{children:"Currency"}),e.jsx("td",{children:"Amount"}),e.jsx("td",{children:"Date of Claim "})]}),((q=s==null?void 0:s.claims_list)==null?void 0:q.length)>0&&((W=s==null?void 0:s.claims_list)==null?void 0:W.map((t,_)=>e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:t.creditor}),e.jsx("td",{children:t.type}),e.jsx("td",{children:t.currency}),e.jsx("td",{children:t!=null&&t.owing_amount?Number(t.owing_amount).toFixed(2):""}),e.jsx("td",{children:t.claim_date})]},"claim"+_)))]})})})}),e.jsx("div",{className:"mb-5",style:{border:"1px solid #176987",width:"100%",padding:"2px"},children:e.jsxs("div",{style:{padding:"10px"},children:[e.jsx("table",{className:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#b4c6e7"},children:e.jsx("th",{scope:"row",colSpan:7,className:"text-center",children:"Active"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:"Creditor"}),e.jsx("td",{children:"Type"}),e.jsx("td",{children:"Outstanding since"}),e.jsx("td",{children:"Amount"})]}),(Y=s==null?void 0:s.credit_details)==null?void 0:Y.map(t=>e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:t.credit_type}),e.jsxs("td",{children:[" ",t.type||""]}),e.jsxs("td",{children:[" ",t.start_date]}),e.jsxs("td",{children:[" ",t!=null&&t.overdue_amount?Number(t.overdue_amount).toFixed(2):""]})]},t.lease_id))]})}),e.jsx("table",{className:"table table-bordered",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{lineHeight:"5px",fontSize:"12px",backgroundColor:"#b4c6e7"},children:e.jsx("th",{scope:"row",colSpan:10,className:"text-center ",children:"Historic"})}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{className:"",scope:"row",colSpan:2,children:"Creditor"}),e.jsx("td",{className:"",children:"Type"}),e.jsx("td",{className:"",children:"Outstanding Since"}),e.jsx("td",{className:"",children:" Amount"})]}),(($=s==null?void 0:s.historic_claims_list)==null?void 0:$.length)>0&&((G=s==null?void 0:s.historic_claims_list)==null?void 0:G.map((t,_)=>e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsxs("th",{scope:"row",colSpan:2,children:[" ",t==null?void 0:t.creditor]}),e.jsx("td",{children:(t==null?void 0:t.type)||""}),e.jsx("td",{children:t==null?void 0:t.claim_date}),e.jsx("td",{children:t!=null&&t.balance_amount?Number(t.balance_amount).toFixed(2):""})]},"claim"+_)))]})})]})}),e.jsxs("div",{style:{width:"100%",padding:"2px"},children:[e.jsx("hr",{}),e.jsxs("div",{children:[e.jsx("p",{children:"Disclaimer: This report is confidential and intended solely for the individual or entity to whom it is addressed. Information on this report is valid at the time of enquiry only. If verification is required, please contact us on the details provided above."}),e.jsx("p",{children:"Terms and Conditions apply."}),e.jsx("p",{children:"Copyrights Â© CrediSafe Zimbabwe"}),e.jsx("p",{children:"All rights reserved"})]})]})]})}),e.jsxs(C.Footer,{children:[e.jsx(Z,{variant:"secondary",onClick:d,children:"Close"}),e.jsx(Z,{variant:"primary",onClick:k,children:"Print"})]})]})})}function be(o){const[d,c]=m.useState(!1),[s,x]=m.useState(!1),[k,N]=m.useState([]),[j,l]=m.useState(!1),[u,b]=m.useState(!1),[y,i]=m.useState(!1),[f,n]=m.useState(!0),[v,w]=m.useState(!1),[R,a]=m.useState(),[H,S]=m.useState(!1),[h,r]=m.useState({}),[g,A]=m.useState(!1),[z,L]=m.useState(null),{data:T,setData:I,post:F}=J({searchParam:"registration_name",searchValue:""}),M=()=>c(!1),E=()=>c(!0),O=()=>S(!1),U=()=>w(!0);function q(t,_){t.preventDefault();try{b(!0),p.loading("Loading...",{duration:2500,position:"top-center"}),_&&(X.post(reverseUrl("enquiry_count"),{isIndividual:!1,isCompany:!0,companyId:_}).then(P=>{}),X.post(reverseUrl("company-report"),{companyId:_}).then(P=>{var K,Q;L(_),(K=P.data)!=null&&K.is_eligible?(Q=P.data)!=null&&Q.require_otp?(A(!0),a(P.data)):(S(!0),a(P.data)):p.error("You have exhausted your free enquiries. Please subscribe to get more enquiries.",{duration:4e3,id:"error_"})}).catch(P=>{console.error("There was an error!",P)}))}finally{b(!1)}}function W(){n(!0),i(!1)}function Y(){i(!0),n(!1)}function $(t){I(V(B({},T),{[t.target.id]:t.target.value}))}function G(t){if(t.preventDefault(),T.searchValue===""){r({searchValue:"Please enter a search value"});return}F(reverseUrl(o),{onStart:()=>{l(!0),N({}),r({}),x(!1)},onSuccess:_=>{_.props.result.length===0&&x(!0),_.props.result.length>0&&N(_.props.result),l(!1)},onError:()=>{p.error("Nothing to search..."),l(!1)}})}return{data:T,show:d,notFound:s,errors:h,isSingle:f,isBulkAdd:v,reportData:R,showReport:H,showVerify:g,isMultiple:y,selectedRow:z,isLoading:j,fetchedData:k,isReportLoading:u,handleShow:E,handleClose:M,setNotFound:x,setIsBulkAdd:w,handleSingle:W,setShowReport:S,changeHandler:$,submitHandler:G,setShowVerify:A,handleMultiple:Y,handleShowReport:q,handleCloseReport:O,handleBulkButtonClick:U}}const Ne=({show:o,handleClose:d,url:c,setVerified:s,verification_type:x,setCreditInfo:k})=>{const[N,j]=m.useState(!1),[l,u]=m.useState({}),{data:b,setData:y,post:i,reset:f}=J({otp:"",verification_type:x}),[n,v]=m.useState(!1),[w,R]=m.useState(30);m.useEffect(()=>{const r=setInterval(()=>{R(g=>g<=1?(clearInterval(r),v(!0),0):g-1)},1e3);return()=>clearInterval(r)},[]);const a=()=>se(void 0,null,function*(){v(!1);try{(yield X.get(reverseUrl("new_otp"))).data.status==="success"?p.success("OTP sent successfully"):p.error("Something went wrong! Please try again")}catch(r){p.error("Something went wrong! Please try again")}}),H=r=>y(V(B({},b),{[r.target.id]:r.target.value})),S=()=>b.otp.length!==4?(u({otp:"otp must be four digits"}),!1):parseInt(b.otp,10)?!0:(u({otp:"otp must be a number"}),!1),h=r=>{r.preventDefault(),p.loading("Loading...",{position:"top-center",id:"loading",duration:2500}),S()&&(i(reverseUrl(c),{onStart:()=>{j(!0)},onSuccess:g=>{d(),f(),p.success("User verified successfully"),j(!1),s(!0)},onError:g=>{p.error("Something went wrong! Please try again"),u(g),j(!1)}}),j(!1))};return e.jsx(e.Fragment,{children:e.jsx(C,{size:"lg",show:o,onHide:d,centered:!0,children:e.jsx("div",{children:e.jsxs("div",{className:"card card-raised",children:[e.jsx(C.Header,{closeButton:!0,className:"card-header bg-info px-4",children:e.jsxs("div",{className:`d-flex justify-content-between
                                align-items-center`,children:[e.jsxs("div",{className:"me-4",children:[e.jsx("h2",{className:"display-6 mb-0 text-white",children:"Verify OTP"}),e.jsx("div",{className:"card-text"})]}),e.jsx("div",{className:"d-flex gap-2"})]})}),e.jsx("div",{className:"card-body p-4",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body p-4",style:{borderStyle:"solid",borderColor:"#26a69a"},children:[e.jsx(C.Body,{children:e.jsxs("div",{className:"row mb-4",children:[e.jsxs("div",{className:"col-md-12",children:[e.jsx("div",{children:e.jsx("p",{children:x==="individual"?"Enter the 4-digit code we sent to user's mobile number. This code will expire after 5 minutes":"Enter the 4-digit code we sent to user's email. This code will expire after 5 minutes"})}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Verification Code"}),e.jsx("input",{value:b.otp,onChange:H,type:"text",name:"otp",id:"otp",placeholder:"Enter your 4 digit otp",className:"form-control form-control-sm"}),l&&e.jsx("div",{className:"text-danger mt-1",children:l.otp})]})})]}),e.jsxs("div",{className:"mt-5 d-flex gap-4 align-items-center ",children:[e.jsxs("p",{children:["Didn't receive code?",e.jsx("button",{onClick:a,className:"ms-2 text-decoration-underline border-0 bg-transparent text-info",disabled:n===!1,children:"Resend Code"})]}),w>0&&e.jsx("p",{className:"text-success",children:`Resend code in ${w} seconds`})]})]})}),e.jsx(C.Footer,{children:e.jsx(Z,{className:"text-white",variant:"info",onClick:r=>h(r),disabled:N,children:N?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-grow spinner-grow-sm"}),e.jsx("span",{className:"ml-2",children:"processing.."})]}):"Verify"})})]})})})]})})})})},fe=({show:o,handleClose:d,isSingle:c,handleSingle:s,isMultiple:x,handleMultiple:k,url:N,action:j,companyData:l,setFetchedData:u})=>{const[b,y]=m.useState(!1),[i,f]=m.useState(""),{data:n,setData:v,post:w,reset:R}=J({registeredName:l?l.registration_name:"",tradingName:l?l.trading_name:"",branch:l?l.branch:"",companyRegistrationNumber:l?l.registration_number:"",registrationDate:l?l.registration_date:"",vatNumber:l?l.vat_number:"",currentAddress:l?l.address:"",landLine:l?l.landline:"",mobileNumber:l?l.mobile_phone:"",emailAddress:l?l.email:"",website:l?l.website:"",industry:l?l.industry:"",note:l?l.note:"",is_gvt:l?l.is_government:!1,company_id:l?l.id:"",is_contracted:l?l.is_contracted:!1}),a=h=>{h.target.id==="is_gvt"?v(V(B({},n),{[h.target.id]:h.target.checked})):v(V(B({},n),{[h.target.id]:h.target.value}))},H=h=>{var r;h.preventDefault(),n.registeredName=n.branch!==""&&!((r=n.registeredName.split(" - ").at(-1))!=null&&r.length)?n.registeredName+" - "+n.branch:n.registeredName,X.post(reverseUrl("edit_company_user"),n).then(g=>{var A;g.data.status==="success"?(p.success(g.data.message),u(z=>[...z.filter(T=>T.id!==n.company_id),{id:n.company_id,registration_name:n.registeredName,trading_name:n.tradingName,registration_number:n.companyRegistrationNumber,registration_date:n.registrationDate,vat_number:n.vatNumber,address:n.currentAddress,landline:n.landLine,mobile_phone:n.mobileNumber,email:n.emailAddress,website:n.website,industry:n.industry,note:n.note}]),d()):(p.error(((A=g.data)==null?void 0:A.message)||"Something went wrong! Please try again"),d())})},S=h=>{h.preventDefault(),n.registeredName=n.branch!==""?n.registeredName+" - "+n.branch:n.registeredName,w(reverseUrl(N),{onStart:()=>{y(!0),f("")},onSuccess:r=>{R(),r.props.success?(p.success(r.props.success),y(!1),d()):p.error(r.props.error)},onError:r=>{p.error("Something went wrong! Please try again"),f(r),y(!1)}})};return e.jsx(e.Fragment,{children:e.jsx(C,{size:"lg",show:o,onHide:d,children:e.jsxs("div",{className:"card",children:[e.jsx(C.Header,{closeButton:!0,className:"card-header bg-transparent",style:{paddingLeft:"0px"},children:e.jsxs("div",{className:"",children:[e.jsx("button",{className:`btn  btn-sm ${c?"btn-info text-white":"btn-light"}`,onClick:s,children:"Single"}),e.jsx("button",{className:`btn  btn-sm ${x?"btn-info text-white":"btn-light"}`,onClick:k,children:"Multiple"})]})}),e.jsxs("div",{className:"card-body",style:{padding:"0px",borderStyle:"solid",borderColor:"#26a69a"},children:[c?e.jsx("div",{children:e.jsxs("div",{className:"card card-raised",children:[e.jsx("div",{className:"card-header bg-info",children:e.jsxs("div",{className:`d-flex justify-content-between
                            align-items-center`,children:[e.jsxs("div",{className:"me-4",children:[e.jsx("h2",{className:"display-6 mb-0 text-white",children:j==="create"?"Add Company":"Edit Company"}),e.jsx("div",{className:"card-text"})]}),e.jsx("div",{className:"d-flex gap-2"})]})}),e.jsx("div",{className:"card-body p-4",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header bg-info px-4",style:{paddingTop:"2px",paddingBottom:"2px"},children:e.jsx("div",{className:`d-flex justify-content-center
                            align-items-center`,children:e.jsxs("div",{className:"me-4",children:[e.jsx("h6",{className:"display-6 mb-0 text-white",children:"Company details"}),e.jsx("div",{className:"card-text"})]})})}),e.jsxs("div",{className:"card-body p-4",style:{borderStyle:"solid",borderColor:"#26a69a"},children:[e.jsxs(C.Body,{children:[e.jsxs("h5",{style:{backgroundColor:"#dda196",padding:"5px 10px",textAlign:"center",borderRadius:"5px"},children:[e.jsx("span",{className:"fw-bold",children:"Note"}),": All fields marked with a star (",e.jsx("span",{className:"text-danger",children:"*"}),") are required."]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12 my-4",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Registered Name",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{value:n.registeredName,onChange:a,type:"text",required:!0,name:"registeredName",id:"registeredName",placeholder:"eg. Company Name",className:"form-control form-control-sm"}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.registeredName})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Trading Name",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{value:n.tradingName,onChange:a,type:"text",required:!0,name:"tradingName",id:"tradingName",placeholder:"eg. Company Name",className:"form-control form-control-sm"}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.tradingName})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Branch"}),e.jsx("input",{value:n.branch,onChange:a,type:"text",id:"branch",name:"branch",placeholder:"Company Branch",className:"form-control form-control-sm"}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.branch})]})]})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Registration Number"}),e.jsx("input",{value:n.companyRegistrationNumber,onChange:a,type:"text",name:"companyRegistrationNumber",id:"companyRegistrationNumber",placeholder:"eg. 000/984/2020",className:"form-control form-control-sm"}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.companyRegistrationNumber})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Registration Date"}),e.jsx("input",{value:n.registrationDate,onChange:a,type:"date",name:"registrationDate",id:"registrationDate",className:"form-control form-control-sm"}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.registrationDate})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"VAT Number"}),e.jsx("input",{value:n.vatNumber,onChange:a,type:"text",name:"vatNumber",id:"vatNumber",placeholder:"eg. 1123456789",className:"form-control form-control-sm"}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.vatNumber})]})]})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Current Address",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("textarea",{value:n.currentAddress,onChange:a,type:"text",name:"currentAddress",required:!0,rows:"2",placeholder:"eg. 1234 Main St",id:"currentAddress",className:"form-control form-control-sm"}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.currentAddress})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Telephone Number"}),e.jsx("input",{value:n.landLine,onChange:a,type:"tel",placeholder:"123-456-7890",name:"landLine",id:"landLine",className:"form-control form-control-sm"}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.landLine})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Mobile Number"}),e.jsx("input",{value:n.mobileNumber,onChange:a,type:"tel",placeholder:'eg. "263712345612"',id:"mobileNumber",name:"mobileNumber",className:"form-control form-control-sm"}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.mobileNumber})]})]})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Email Address",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{value:n.emailAddress,onChange:a,type:"email",required:!0,name:"emailAddress",placeholder:"your-name@company-name.com",id:"emailAddress",className:"form-control form-control-sm"}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.emailAddress})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Website"}),e.jsx("input",{value:n.website,onChange:a,type:"url",id:"website",name:"website",placeholder:"https://your-website.com",className:"form-control form-control-sm"}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.website})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Industry"}),e.jsxs("select",{className:"form-select form-select-sm","aria-label":"Default select example",name:"industry",id:"industry",value:n.industry,onChange:a,children:[e.jsx("option",{children:"Select..."}),je.map(h=>e.jsx("option",{value:h,children:h},h))]}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.industry}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.industry})]})]})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4 d-flex gap-2",children:[e.jsx("label",{className:"form-label",children:"Government Org"}),e.jsx("input",{type:"checkbox",name:"is_gvt",id:"is_gvt",checked:n.is_gvt,onChange:a,className:"form-check-input border-1 border-black"})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Note"}),e.jsx("textarea",{value:n.note,onChange:a,type:"text",id:"note",name:"note",placeholder:"Write your additional note here...",className:"form-control form-control-sm"}),i&&e.jsx("div",{className:"text-danger mt-1",children:i.note})]})]})})})]}),e.jsx(C.Footer,{children:e.jsx(Z,{className:"text-white",variant:"info",onClick:j==="create"?S:H,disabled:b,children:b?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-grow spinner-grow-sm"}),e.jsx("span",{className:"ml-2",children:"processing.."})]}):"Save and Proceed"})})]})]})})]})}):"",x?e.jsx(xe,{type:"company",actionType:"user"}):""]})]})})})};function pe({url:o}){const{data:d,show:c,notFound:s,errors:x,isSingle:k,isBulkAdd:N,reportData:j,showReport:l,showVerify:u,isMultiple:b,selectedRow:y,isLoading:i,fetchedData:f,isReportLoading:n,handleShow:v,handleClose:w,setNotFound:R,setIsBulkAdd:a,handleSingle:H,setShowReport:S,changeHandler:h,submitHandler:r,setShowVerify:g,handleMultiple:A,handleShowReport:z,handleCloseReport:L,handleBulkButtonClick:T}=be(o);return e.jsxs("div",{children:[e.jsxs(e.Fragment,{children:[e.jsx(re,{title:"Search Company"}),e.jsx(me,{position:"top-right",duration:"4000"}),e.jsx(he,{type:"company",actionType:"user",show:N,handleClose:()=>a(!1)}),e.jsx(ge,{showReport:l,handleCloseReport:L,selectedRow:y,reportData:j}),e.jsx(Ne,{show:u,handleClose:()=>g(!1),setVerified:S,verification_type:"company",url:"verify_company_otp"}),e.jsx(fe,{show:c,handleClose:w,handleShow:v,isSingle:k,handleSingle:H,isMultiple:b,handleMultiple:A,url:"client-create-company",action:"create"})]}),e.jsxs("div",{className:"container-xl",children:[e.jsx("h4",{className:"bg-info text-white p-2 rounded rounded-5 text-center mb-4",children:"Search Company"}),e.jsxs("table",{className:"table table-sm table-bordered border-2 bg-white",children:[e.jsxs("thead",{className:"position-sticky c-table-top bg-white c-z-5",children:[e.jsx("tr",{children:e.jsx("th",{colSpan:4,children:e.jsxs("form",{className:"d-flex gap-3 align-items-end p-2",onSubmit:r,children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label",htmlFor:"searchValue",children:"Filter by Registered Name / Number"}),e.jsx("input",{className:"form-control form-control",value:d.searchValue,onChange:h,placeholder:"search...",name:"searchValue",id:"searchValue"}),x.searchValue&&e.jsx("small",{className:"text-danger p-1",children:x.searchValue})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",htmlFor:"searchParam",children:"Select filter Parameter"}),e.jsxs("select",{name:"searchParam",id:"searchParam",className:"form-select",onChange:h,children:[e.jsx("option",{value:"registration_name",children:"Registered Name"}),e.jsx("option",{value:"registration_number",children:"Registration Number"})]})]}),e.jsxs("button",{type:"submit",disabled:i,className:"btn btn-info text-white",children:[e.jsx("i",{className:"leading-icon material-icons",children:"search"}),i?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-grow spinner-grow-sm"}),e.jsx("span",{className:"ms-2",children:"Searching.."})]}):"Search"]}),e.jsx(ae,{handleClick:T})]})})}),e.jsxs("tr",{className:"c-bg-light",children:[e.jsx("th",{className:"px-3",children:"Registered Name"}),e.jsx("th",{className:"px-3",children:"Registration Number"}),e.jsx("th",{className:"px-3 text-center",children:"Select"})]})]}),e.jsx("tbody",{children:i?e.jsx("tr",{children:e.jsx("td",{colSpan:4,children:e.jsxs("div",{className:"custom-h-2 d-flex align-items-center justify-content-center p-5",children:[e.jsx("span",{className:"spinner-grow spinner-grow-sm me-2 text-info"}),e.jsx("span",{children:"Searching.."})]})})}):(f==null?void 0:f.length)>0&&f.map(I=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-3",children:I.registration_name}),e.jsx("td",{className:"px-3",children:I.registration_number}),e.jsx("td",{className:"px-3 text-center",children:e.jsx("button",{disabled:n,className:"btn btn-info text-white ",onClick:F=>z(F,I.id),children:n?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-grow spinner-grow-sm"}),e.jsx("span",{className:"ms-2",children:"processing.."})]}):"View"})})]},I.id))})]}),s&&e.jsx("div",{className:"d-flex justify-content-center bg-white p-4",children:e.jsx(ue,{handleShow:v,userType:"company",searchValue:d.searchValue,handleCloseModal:()=>R(!1)})})]})]})}function ve(){return e.jsx(pe,{url:"cl-search-companies"})}ve.layout=o=>e.jsx(ce,{children:o});export{ve as default};
