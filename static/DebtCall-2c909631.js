import{r as i,j as e}from"./main-5b40e739.js";import{I as r}from"./index-6f7cd0f9.js";import{L as m}from"./Layout-e3187c6c.js";import{b as d}from"./index-ab81bb2e.js";import"./lodash-7ed354f0.js";import"./assertThisInitialized-3be3daa4.js";import"./removeClass-ffc5027a.js";import"./Modal-b566b2dd.js";import"./index-c570846a.js";import"./formatting-345d2430.js";function o(){const[s,c]=i.useState(!1);function n(a){a.preventDefault(),c(!0);const t=new FormData(a.target),l=Object.fromEntries(t);l.contact_methods=t.getAll("contact_methods"),l.aging_filters=t.getAll("aging_filters"),l.accounts_to_sms=t.getAll("accounts_to_sms"),l.accounts_to_email=t.getAll("accounts_to_email"),console.log({payload:l}),c(!1)}return{processing:s,handleSubmit:n}}function h({customers:s}){const{processing:c,handleSubmit:n}=o();return e.jsxs("form",{onSubmit:n,children:[e.jsx(r,{position:"top-right",duration:"4000"}),e.jsx("h5",{className:"text-center p-2 mb-3 text-white custom-bg-grey-2 rounded",children:"DEBT CALL"}),e.jsxs("div",{className:"row align-items-start g-2",children:[e.jsx("div",{className:"col-6",children:e.jsxs("div",{children:[e.jsxs("div",{className:"mb-3 border border-dark",children:[e.jsx("p",{className:"text-center p-1 mb-0 text-white bg-info",children:"Contact Method"}),e.jsxs("div",{className:"p-2 d-flex gap-2",children:[e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",value:"email",name:"contact_methods",id:"email_contact_methods"}),e.jsx("label",{className:"form-check-label",htmlFor:"email_contact_methods",children:"Email"})]}),e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",value:"sms",name:"contact_methods",id:"sms_contact_methods"}),e.jsx("label",{className:"form-check-label",htmlFor:"sms_contact_methods",children:"SMS"})]})]})]}),e.jsxs("div",{className:"mb-3 border border-dark",children:[e.jsx("p",{className:"text-center p-1 mb-0 text-white bg-info",children:"Filter By Ageing"}),e.jsxs("div",{className:"p-2 d-flex gap-2 justify-content-around",children:[e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",value:"current",name:"aging_filters",id:"current_aging_filters"}),e.jsx("label",{className:"form-check-label",htmlFor:"current_aging_filters",children:"Current"})]}),e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",value:"1-30days",name:"aging_filters",id:"1-30days_aging_filters"}),e.jsx("label",{className:"form-check-label",htmlFor:"1-30days_aging_filters",children:"1-30 Days"})]}),e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",value:"31-60days",name:"aging_filters",id:"31-60days_aging_filters"}),e.jsx("label",{className:"form-check-label",htmlFor:"31-60days_aging_filters",children:"31-60 Days"})]}),e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",value:"61-90days",name:"aging_filters",id:"61-90days_aging_filters"}),e.jsx("label",{className:"form-check-label",htmlFor:"61-90days_aging_filters",children:"61-90 Days"})]}),e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",value:"+90days",name:"aging_filters",id:"+90days_aging_filters"}),e.jsx("label",{className:"form-check-label",htmlFor:"+90days_aging_filters",children:"+90 Days"})]})]})]}),e.jsxs("div",{className:"mb-3 border border-dark",children:[e.jsx("p",{className:"text-center p-1 mb-0 text-white bg-info",children:"Filter By Balance"}),e.jsxs("div",{className:"p-2 d-flex gap-3 align-items-center justify-content-around",children:[e.jsx("label",{className:"form-label text-nowrap",htmlFor:"balance_filter",children:"Contact all debtors with balances above"}),e.jsx("input",{className:"form-control form-control-sm c-w-fit",type:"number",name:"balance_filter",id:"balance_filter"})]})]}),e.jsxs("div",{className:"mb-3 border border-dark",children:[e.jsx("p",{className:"text-center p-1 mb-0 text-white bg-info",children:"SMS Message"}),e.jsx("div",{className:"p-2 d-flex gap-3 align-items-center",children:e.jsx("textarea",{className:"form-control",name:"sms_message",id:"sms_message",rows:"3",placeholder:"Enter message here..."})})]}),e.jsxs("div",{className:"mb-3 border border-dark",children:[e.jsx("p",{className:"text-center p-1 mb-0 text-white bg-info",children:"Email Message"}),e.jsx("div",{className:"p-2 d-flex gap-3 align-items-center",children:e.jsx("textarea",{className:"form-control",name:"email_message",id:"email_message",rows:"3",placeholder:"Enter message here..."})})]})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{children:[e.jsxs("div",{className:"bg-white",children:[e.jsxs("table",{className:"table table-sm table-bordered table-responsive mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Account Number "}),e.jsx("th",{children:"Customer Name "}),e.jsx("th",{children:"Balance Owing "}),e.jsx("th",{children:"Sms "}),e.jsx("th",{children:"Email"})]})}),e.jsx("tbody",{children:s==null?void 0:s.map((a,t)=>e.jsxs("tr",{children:[e.jsx("td",{children:a.account_number}),e.jsx("td",{children:a.customer_name}),e.jsx("td",{className:"text-end",children:`${a.currency.trim().toUpperCase()} ${d(a.balance_owing).replace("$","")}`}),e.jsx("td",{children:e.jsx("div",{className:"form-check d-flex justify-content-center",children:e.jsx("input",{className:"form-check-input",type:"checkbox",name:"accounts_to_sms",value:a.account_number,defaultChecked:!a.is_company})})}),e.jsx("td",{children:e.jsx("div",{className:"form-check d-flex justify-content-center",children:e.jsx("input",{className:"form-check-input",type:"checkbox",name:"accounts_to_email",value:a.account_number,defaultChecked:a.is_company})})})]},t))})]}),(s==null?void 0:s.length)===0&&e.jsx("div",{className:"custom-h-4 d-flex justify-content-center align-items-center border border-2",children:"Nothing to show"})]}),e.jsx("div",{className:"text-end p-4",children:e.jsx("button",{disabled:(s==null?void 0:s.length)===0,type:"submit",className:"btn btn-info text-white gap-2",children:c?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-grow spinner-grow-sm"}),e.jsx("span",{children:"Processing.."})]}):"Send"})})]})})]})]})}h.layout=s=>e.jsx(m,{children:s,title:"Debt Call"});export{h as default};
