import{r as h,j as e}from"./media/main-e93a7206.js";import{L as b}from"./Layout-56d8b6fa.js";import"es-errors/type";import"es-errors/uri";import"./lodash-c46b0b18.js";import"./assertThisInitialized-3be3daa4.js";import"./removeClass-1ea2812f.js";import"./Modal-f2882484.js";import"./index-d2bd424b.js";import"./index-b312c35d.js";import"./formatting-fad57ba1.js";import"./MultipleUpload-c0bbfd63.js";import"./index-c49d93dd.js";import"./search-f3a0467e.js";function _(){const[n,i]=h.useState("usd"),[d,r]=h.useState("period_selection_type_month"),[u,p]=h.useState(!1),[m,c]=h.useState(),[x,N]=h.useState(),[j,t]=h.useState(45);h.useEffect(()=>{},[]);const a={consumer_enquiries:m?.consumer_enquiries.reduce((s,l)=>(s.amountExcl+=l.amountExcl,s.vat+=l.vat,s.totalInc+=l.totalInc,s),{amountExcl:0,vat:0,totalInc:0})||{amountExcl:0,vat:0,totalInc:0},company_enquiries:m?.company_enquiries.reduce((s,l)=>(s.amountExcl+=l.amountExcl,s.vat+=l.vat,s.totalInc+=l.totalInc,s),{amountExcl:0,vat:0,totalInc:0})||{amountExcl:0,vat:0,totalInc:0},rescission:m?.rescission.reduce((s,l)=>(s.amountExcl+=l.amountExcl,s.vat+=l.vat,s.totalInc+=l.totalInc,s),{amountExcl:0,vat:0,totalInc:0})||{amountExcl:0,vat:0,totalInc:0}},o={consumer_enquiries:x?.consumer_enquiries.reduce((s,l)=>(s.amountExcl+=l.amountExcl,s.vat+=l.vat,s.totalInc+=l.totalInc,s),{amountExcl:0,vat:0,totalInc:0})||{amountExcl:0,vat:0,totalInc:0},company_enquiries:x?.company_enquiries.reduce((s,l)=>(s.amountExcl+=l.amountExcl,s.vat+=l.vat,s.totalInc+=l.totalInc,s),{amountExcl:0,vat:0,totalInc:0})||{amountExcl:0,vat:0,totalInc:0},rescission:x?.rescission.reduce((s,l)=>(s.amountExcl+=l.amountExcl,s.vat+=l.vat,s.totalInc+=l.totalInc,s),{amountExcl:0,vat:0,totalInc:0})||{amountExcl:0,vat:0,totalInc:0}},v={amountExcl:a.consumer_enquiries.amountExcl+a.company_enquiries.amountExcl+a.rescission.amountExcl+(o.consumer_enquiries.amountExcl+o.company_enquiries.amountExcl+o.rescission.amountExcl)/(j||1),vat:a.consumer_enquiries.vat+a.company_enquiries.vat+a.rescission.vat+(o.consumer_enquiries.vat+o.company_enquiries.vat+o.rescission.vat)/(j||1),totalInc:a.consumer_enquiries.totalInc+a.company_enquiries.totalInc+a.rescission.totalInc+(o.consumer_enquiries.totalInc+o.company_enquiries.totalInc+o.rescission.totalInc)/(j||1)};return{rate:j,loading:u,zwgTotals:o,usdTotals:a,grandTotals:v,zwgRowsObject:x,usdRowsObject:m,selectedCurrency:n,periodSelectionType:d,setPeriodSelectionType:r,setSelectedCurrency:i}}function g(){const{rate:n,loading:i,zwgTotals:d,usdTotals:r,grandTotals:u,zwgRowsObject:p,usdRowsObject:m,selectedCurrency:c,periodSelectionType:x,setPeriodSelectionType:N,setSelectedCurrency:j}=_();return e.jsxs("div",{children:[e.jsx("h5",{className:"bg-info text-white p-2 text-center rounded-1",children:"Sales Reports"}),e.jsxs("div",{className:"d-flex gap-2 my-4 text-nowrap",children:[e.jsxs("fieldset",{className:"d-flex justify-content-around align-items-end flex-fill gap-3 border custom-rounded-1 border-3",children:[e.jsx("legend",{className:"px-1",children:"Category"}),e.jsxs("div",{children:[e.jsx("label",{className:"d-block form-label",children:"From"}),e.jsx("select",{disabled:i,className:"c-form-select",name:"bureau_from",id:"bureau_from",defaultValue:"bureau",children:e.jsx("option",{value:"bureau",children:"Bureau"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"d-block form-label",children:"To"}),e.jsx("select",{disabled:i,className:"c-form-select",name:"bureau_to",id:"bureau_to",defaultValue:"bureau",children:e.jsx("option",{value:"bureau",children:"Bureau"})})]})]}),e.jsxs("fieldset",{className:"d-flex justify-content-around align-items-end flex-fill gap-3 border custom-rounded-1 border-3",children:[e.jsx("legend",{className:"px-1",children:"Currency"}),e.jsxs("select",{disabled:i,className:"c-form-select w-100 bg-danger text-white",name:"currency",id:"currency",value:c,onChange:t=>{j(t.target.value)},children:[e.jsx("option",{value:"usd",children:"USD - United States Dollars"}),e.jsx("option",{value:"zwg",children:"ZWG - Zimbabwean Dollar"}),e.jsx("option",{value:"combined",children:"Combined"})]})]}),e.jsxs("fieldset",{className:"d-flex justify-content-around align-items-end flex-fill gap-3 border custom-rounded-1 border-3",children:[e.jsx("legend",{className:"px-1",children:"Period Selection"}),e.jsxs("div",{className:"d-flex align-items-end gap-3",children:[e.jsxs("div",{className:"form-check",children:[e.jsx("input",{disabled:i,className:"form-check-input",type:"radio",name:"period_selection_type",id:"period_selection_type_month",value:"period_selection_type_month",checked:x==="period_selection_type_month",onChange:t=>{N(t.target.value)}}),e.jsx("label",{className:"form-check-label",children:"Month"})]}),e.jsxs("select",{disabled:i||x!=="period_selection_type_month",className:"c-form-select",name:"month",id:"month",defaultValue:"1",children:[e.jsx("option",{value:"1",children:"January"}),e.jsx("option",{value:"2",children:"February"}),e.jsx("option",{value:"3",children:"March"}),e.jsx("option",{value:"4",children:"April"}),e.jsx("option",{value:"5",children:"May"}),e.jsx("option",{value:"6",children:"June"}),e.jsx("option",{value:"7",children:"July"}),e.jsx("option",{value:"8",children:"August"}),e.jsx("option",{value:"9",children:"September"}),e.jsx("option",{value:"10",children:"October"}),e.jsx("option",{value:"11",children:"November"}),e.jsx("option",{value:"12",children:"December"})]})]}),e.jsxs("div",{className:"d-flex align-items-end gap-3",children:[e.jsxs("div",{className:"form-check",children:[e.jsx("input",{disabled:i,className:"form-check-input",type:"radio",name:"period_selection_type",id:"period_selection_type_date",value:"period_selection_type_date",checked:x==="period_selection_type_date",onChange:t=>{N(t.target.value)}}),e.jsx("label",{className:"form-check-label",children:"Date"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"From"}),e.jsx("input",{disabled:i||x!=="period_selection_type_date",className:"form-control form-control-sm",name:"period_selection_date_from",id:"period_selection_date_from",type:"date"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"To"}),e.jsx("input",{disabled:i||x!=="period_selection_type_date",className:"form-control form-control-sm",name:"period_selection_date_to",id:"period_selection_date_to",type:"date"})]})]})]})]}),e.jsx("div",{children:e.jsxs("table",{className:"table table-bordered table-responsive table-sm bg-white",children:[e.jsxs("thead",{className:"shadow-sm sticky-top c-table-top bg-white c-force-borders",children:[e.jsxs("tr",{children:[e.jsx("th",{children:e.jsx("div",{children:" Date"})}),e.jsx("th",{children:e.jsx("div",{children:" Inv #"})}),e.jsx("th",{className:"custom-mn-w-2",children:e.jsx("div",{children:"Customer"})}),e.jsx("th",{className:"text-end",children:e.jsx("div",{children:"Amount (Excl)"})}),e.jsx("th",{className:"text-end",children:e.jsx("div",{children:"VAT"})}),e.jsx("th",{className:"text-end",children:e.jsx("div",{children:"Total (Inc)"})}),c==="combined"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"text-center",children:e.jsx("div",{children:"Rate"})}),e.jsx("th",{className:"text-end",children:e.jsx("div",{children:"Amount (Excl)"})}),e.jsx("th",{className:"text-end",children:e.jsx("div",{children:"VAT"})}),e.jsx("th",{className:"text-end",children:e.jsx("div",{children:"Total (Inc)"})})]})]}),c==="combined"&&e.jsxs("tr",{children:[e.jsx("th",{colSpan:"3"}),e.jsx("th",{colSpan:"3",className:"text-center bg-danger text-white",children:"ZWG"}),e.jsx("th",{}),e.jsx("th",{colSpan:"3",className:"text-center bg-danger text-white",children:"USD"})]})]}),e.jsx("tbody",{children:i?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"text-center p-5",children:e.jsx("div",{className:"spinner-border text-info",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}):e.jsxs(e.Fragment,{children:[c!=="zwg"&&e.jsxs(e.Fragment,{children:[e.jsx("tr",{children:e.jsx("td",{colSpan:c==="combined"?10:6,children:e.jsx("b",{className:"bg-danger text-white p-2 d-inline-block mt-1 rounded-2 ",children:"USD"})})}),e.jsxs(e.Fragment,{children:[e.jsx("tr",{children:e.jsx("th",{colSpan:c==="combined"?10:6,children:e.jsx("div",{className:"fs-6 py-2",children:"BUR001 - Consumer Enquiries"})})}),m?.consumer_enquiries.map((t,a)=>e.jsxs("tr",{children:[e.jsx("td",{children:t.date}),e.jsx("td",{children:t.inv}),e.jsx("td",{children:t.customer}),c==="combined"&&e.jsxs(e.Fragment,{children:[e.jsx("td",{}),e.jsx("td",{}),e.jsx("td",{}),e.jsx("td",{})]}),e.jsx("td",{className:"text-end",children:t.amountExcl}),e.jsx("td",{className:"text-end",children:t.vat}),e.jsx("td",{className:"text-end",children:t.totalInc})]},a)),e.jsxs("tr",{children:[e.jsx("th",{colSpan:3,className:"text-end",children:"Totals Sales USD"}),c==="combined"&&e.jsxs(e.Fragment,{children:[e.jsx("td",{}),e.jsx("td",{}),e.jsx("td",{}),e.jsx("td",{})]}),e.jsx("th",{className:"text-end",children:r.consumer_enquiries.amountExcl.toFixed(2)}),e.jsx("th",{className:"text-end",children:r.consumer_enquiries.vat.toFixed(2)}),e.jsx("th",{className:"text-end",children:r.consumer_enquiries.totalInc.toFixed(2)})]})]}),e.jsxs(e.Fragment,{children:[e.jsx("tr",{children:e.jsx("th",{colSpan:c==="combined"?10:6,children:e.jsx("div",{className:"fs-6 py-2",children:"BUR002 - Company Enquiries"})})}),m?.company_enquiries.map((t,a)=>e.jsxs("tr",{children:[e.jsx("td",{children:t.date}),e.jsx("td",{children:t.inv}),e.jsx("td",{children:t.customer}),c==="combined"&&e.jsxs(e.Fragment,{children:[e.jsx("td",{}),e.jsx("td",{}),e.jsx("td",{}),e.jsx("td",{})]}),e.jsx("td",{className:"text-end",children:t.amountExcl}),e.jsx("td",{className:"text-end",children:t.vat}),e.jsx("td",{className:"text-end",children:t.totalInc})]},a)),e.jsxs("tr",{children:[e.jsx("th",{colSpan:3,className:"text-end",children:"Totals Sales USD"}),c==="combined"&&e.jsxs(e.Fragment,{children:[e.jsx("td",{}),e.jsx("td",{}),e.jsx("td",{}),e.jsx("td",{})]}),e.jsx("th",{className:"text-end",children:r.company_enquiries.amountExcl.toFixed(2)}),e.jsx("th",{className:"text-end",children:r.company_enquiries.vat.toFixed(2)}),e.jsx("th",{className:"text-end",children:r.company_enquiries.totalInc.toFixed(2)})]})]}),e.jsxs(e.Fragment,{children:[e.jsx("tr",{children:e.jsx("th",{colSpan:c==="combined"?10:6,children:e.jsx("div",{className:"fs-6 py-2",children:"BUR003 - Rescission"})})}),m?.rescission.map((t,a)=>e.jsxs("tr",{children:[e.jsx("td",{children:t.date}),e.jsx("td",{children:t.inv}),e.jsx("td",{children:t.customer}),c==="combined"&&e.jsxs(e.Fragment,{children:[e.jsx("td",{}),e.jsx("td",{}),e.jsx("td",{}),e.jsx("td",{})]}),e.jsx("td",{className:"text-end",children:t.amountExcl}),e.jsx("td",{className:"text-end",children:t.vat}),e.jsx("td",{className:"text-end",children:t.totalInc})]},a)),e.jsxs("tr",{children:[e.jsx("th",{colSpan:3,className:"text-end",children:"Totals Sales USD"}),c==="combined"&&e.jsxs(e.Fragment,{children:[e.jsx("td",{}),e.jsx("td",{}),e.jsx("td",{}),e.jsx("td",{})]}),e.jsx("th",{className:"text-end",children:r.rescission.amountExcl.toFixed(2)}),e.jsx("th",{className:"text-end",children:r.rescission.vat.toFixed(2)}),e.jsx("th",{className:"text-end",children:r.rescission.totalInc.toFixed(2)})]})]})]}),c!=="usd"&&e.jsxs(e.Fragment,{children:[e.jsx("tr",{children:e.jsx("td",{colSpan:c==="combined"?10:6,children:e.jsx("b",{className:"bg-danger text-white p-2 d-inline-block mt-1 rounded-2 ",children:"ZWG"})})}),e.jsxs(e.Fragment,{children:[e.jsx("tr",{children:e.jsx("th",{colSpan:c==="combined"?10:6,children:e.jsx("div",{className:"fs-6 py-2",children:"BUR001 - Consumer Enquiries"})})}),p?.consumer_enquiries.map((t,a)=>e.jsxs("tr",{children:[e.jsx("td",{children:t.date}),e.jsx("td",{children:t.inv}),e.jsx("td",{children:t.customer}),e.jsx("td",{className:"text-end",children:t.amountExcl}),e.jsx("td",{className:"text-end",children:t.vat}),e.jsx("td",{className:"text-end",children:t.totalInc}),c==="combined"&&e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"text-danger text-center",children:n||""}),e.jsx("td",{className:"text-end",children:(Number(t.amountExcl||0)/(n||1)).toFixed(2)}),e.jsx("td",{className:"text-end",children:(Number(t.vat||0)/(n||1)).toFixed(2)}),e.jsx("td",{className:"text-end",children:(Number(t.totalInc||0)/(n||1)).toFixed(2)})]})]},a)),e.jsxs("tr",{children:[e.jsx("th",{colSpan:3,className:"text-end",children:"Total Sales ZWG / USD equivalent"}),e.jsx("th",{className:"text-end",children:d.consumer_enquiries.amountExcl.toFixed(2)}),e.jsx("th",{className:"text-end",children:d.consumer_enquiries.vat.toFixed(2)}),e.jsx("th",{className:"text-end",children:d.consumer_enquiries.totalInc.toFixed(2)}),c==="combined"&&e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"text-danger text-center",children:n||""}),e.jsx("th",{className:"text-end",children:(d.consumer_enquiries.amountExcl/(n||1)).toFixed(2)}),e.jsx("th",{className:"text-end",children:(d.consumer_enquiries.vat/(n||1)).toFixed(2)}),e.jsx("th",{className:"text-end",children:(d.consumer_enquiries.totalInc/(n||1)).toFixed(2)})]})]})]}),e.jsxs(e.Fragment,{children:[e.jsx("tr",{children:e.jsx("th",{colSpan:c==="combined"?10:6,children:e.jsx("div",{className:"fs-6 py-2",children:"BUR002 - Company Enquiries"})})}),p?.company_enquiries.map((t,a)=>e.jsxs("tr",{children:[e.jsx("td",{children:t.date}),e.jsx("td",{children:t.inv}),e.jsx("td",{children:t.customer}),e.jsx("td",{className:"text-end",children:t.amountExcl}),e.jsx("td",{className:"text-end",children:t.vat}),e.jsx("td",{className:"text-end",children:t.totalInc}),c==="combined"&&e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"text-danger text-center",children:n||""}),e.jsx("td",{className:"text-end",children:(Number(t.amountExcl||0)/(n||1)).toFixed(2)}),e.jsx("td",{className:"text-end",children:(Number(t.vat||0)/(n||1)).toFixed(2)}),e.jsx("td",{className:"text-end",children:(Number(t.totalInc||0)/(n||1)).toFixed(2)})]})]},a)),e.jsxs("tr",{children:[e.jsx("th",{colSpan:3,className:"text-end",children:"Total Sales ZWG / USD equivalent"}),e.jsx("th",{className:"text-end",children:d.company_enquiries.amountExcl.toFixed(2)}),e.jsx("th",{className:"text-end",children:d.company_enquiries.vat.toFixed(2)}),e.jsx("th",{className:"text-end",children:d.company_enquiries.totalInc.toFixed(2)}),c==="combined"&&e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"text-danger text-center",children:n||""}),e.jsx("th",{className:"text-end",children:(d.company_enquiries.amountExcl/(n||1)).toFixed(2)}),e.jsx("th",{className:"text-end",children:(d.company_enquiries.vat/(n||1)).toFixed(2)}),e.jsx("th",{className:"text-end",children:(d.company_enquiries.totalInc/(n||1)).toFixed(2)})]})]})]}),e.jsxs(e.Fragment,{children:[e.jsx("tr",{children:e.jsx("th",{colSpan:c==="combined"?10:6,children:e.jsx("div",{className:"fs-6 py-2",children:"BUR003 - Rescission"})})}),p?.rescission.map((t,a)=>e.jsxs("tr",{children:[e.jsx("td",{children:t.date}),e.jsx("td",{children:t.inv}),e.jsx("td",{children:t.customer}),e.jsx("td",{className:"text-end",children:t.amountExcl}),e.jsx("td",{className:"text-end",children:t.vat}),e.jsx("td",{className:"text-end",children:t.totalInc}),c==="combined"&&e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"text-danger text-center",children:n||""}),e.jsx("td",{className:"text-end",children:(Number(t.amountExcl||0)/(n||1)).toFixed(2)}),e.jsx("td",{className:"text-end",children:(Number(t.vat||0)/(n||1)).toFixed(2)}),e.jsx("td",{className:"text-end",children:(Number(t.totalInc||0)/(n||1)).toFixed(2)})]})]},a)),e.jsxs("tr",{children:[e.jsx("th",{colSpan:3,className:"text-end",children:"Total Sales ZWG / USD equivalent"}),e.jsx("th",{className:"text-end",children:d.rescission.amountExcl.toFixed(2)}),e.jsx("th",{className:"text-end",children:d.rescission.vat.toFixed(2)}),e.jsx("th",{className:"text-end",children:d.rescission.totalInc.toFixed(2)}),c==="combined"&&e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"text-danger text-center",children:n||""}),e.jsx("th",{className:"text-end",children:(d.rescission.amountExcl/(n||1)).toFixed(2)}),e.jsx("th",{className:"text-end",children:(d.rescission.vat/(n||1)).toFixed(2)}),e.jsx("th",{className:"text-end",children:(d.rescission.totalInc/(n||1)).toFixed(2)})]})]})]})]})]})}),!i&&e.jsx("tfoot",{className:"bg-light",children:e.jsxs("tr",{children:[e.jsx("th",{colSpan:c==="combined"?7:3,className:"text-end",children:"Grand Total Sales USD"}),e.jsx("th",{className:"text-end",children:u.amountExcl.toFixed(2)}),e.jsx("th",{className:"text-end",children:u.vat.toFixed(2)}),e.jsx("th",{className:"text-end",children:u.totalInc.toFixed(2)})]})})]})})]})}g.layout=n=>e.jsx(b,{children:n,title:"Sales Reports"});export{g as default};
