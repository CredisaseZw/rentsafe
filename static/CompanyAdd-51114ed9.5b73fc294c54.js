import{r as b,a as k,j as e,b as S,_ as n}from"./media/main-e93a7206.js";import{M as R}from"./MultipleUpload-c0bbfd63.js";import{i as L}from"./index-b312c35d.js";import{u as E}from"./index-c49d93dd.js";import{M as c}from"./Modal-f2882484.js";import{B}from"./Button-56a2f5e9.js";const W=({show:u,handleClose:i,handleShow:q,setAddSuccessful:F,isSingle:o,handleSingle:v,isMultiple:x,handleMultiple:p,url:f,action:h,companyData:s,pageType:w,setFetchedData:M})=>{const[N,m]=b.useState(!1),[a,g]=b.useState(""),{data:r,setData:j,post:y,reset:C}=k({registeredName:s?s.registration_name:"",tradingName:s?s.trading_name:"",branch:s?s.branch:"",companyRegistrationNumber:s?s.registration_number:"",registrationDate:s?s.registration_date:"",vatNumber:s?s.vat_number:"",currentAddress:s?s.address:"",landLine:s?s.landline:"",mobileNumber:s?s.mobile_phone:"",emailAddress:s?s.email:"",website:s?s.website:"",industry:s?s.industry:"",note:s?s.note:"",company_id:s?s.id:"",is_contracted:s?s.is_client:!1,is_gvt:s?s.is_government:!1,pageType:w||""}),l=d=>{d.target.id==="is_contracted"||d.target.id==="is_gvt"?j({...r,[d.target.id]:d.target.checked}):j({...r,[d.target.id]:d.target.value})},_=d=>{d.preventDefault(),r.registeredName=r.branch!==""&&!r.registeredName.split(" - ").at(-1)?.length?r.registeredName+" - "+r.branch:r.registeredName,S.post(reverseUrl("edit_company_user"),r).then(t=>{t.data.status==="success"?(n.success(E(t)),i()):(n.error(t.data?.message||"Something went wrong! Please try again"),i())})},A=d=>{d.preventDefault(),r.registeredName=r.branch!==""?r.registeredName+" - "+r.branch:r.registeredName,y(reverseUrl(f),{onStart:()=>{m(!0),g("")},onSuccess:t=>{C(),n.success("Company creacted successfully"),m(!1),i(),window.location.replace(reverseUrl("search_company_users"))},onError:t=>{n.error("Something went wrong! Please try again"),g(t),m(!1)}})};return e.jsx(e.Fragment,{children:e.jsx(c,{size:"lg",show:u,onHide:i,children:e.jsxs("div",{className:"card",children:[e.jsx(c.Header,{closeButton:!0,className:"card-header bg-transparent",style:{paddingLeft:"0px"},children:e.jsxs("div",{className:"",children:[e.jsx("button",{className:`btn  btn-sm ${o?"btn-info text-white":"btn-light"}`,onClick:v,children:"Single"}),e.jsx("button",{className:`btn  btn-sm ${x?"btn-info text-white":"btn-light"}`,onClick:p,children:"Multiple"})]})}),e.jsxs("div",{className:"card-body",style:{padding:"0px",borderStyle:"solid",borderColor:"#26a69a"},children:[o?e.jsx("div",{children:e.jsxs("div",{className:"card card-raised",children:[e.jsx("div",{className:"card-header bg-info",children:e.jsxs("div",{className:`d-flex justify-content-between
                            align-items-center`,children:[e.jsxs("div",{className:"me-4",children:[e.jsx("h2",{className:"display-6 mb-0 text-white",children:h==="create"?"Add Company":"Edit Company"}),e.jsx("div",{className:"card-text"})]}),e.jsx("div",{className:"d-flex gap-2"})]})}),e.jsx("div",{className:"card-body p-4",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header bg-info px-4",style:{paddingTop:"2px",paddingBottom:"2px"},children:e.jsx("div",{className:`d-flex justify-content-center
                            align-items-center`,children:e.jsxs("div",{className:"me-4",children:[e.jsx("h6",{className:"display-6 mb-0 text-white",children:"Company details"}),e.jsx("div",{className:"card-text"})]})})}),e.jsxs("div",{className:"card-body p-4",style:{borderStyle:"solid",borderColor:"#26a69a"},children:[e.jsxs(c.Body,{children:[e.jsxs("h5",{style:{backgroundColor:"#dda196",padding:"5px 10px",textAlign:"center",borderRadius:"5px"},children:[e.jsx("span",{className:"fw-bold",children:"Note"}),": All fields marked with a star (",e.jsx("span",{className:"text-danger",children:"*"}),") are required."]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12  my-4",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Registered Name",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{value:r.registeredName,onChange:l,type:"text",required:!0,name:"registeredName",id:"registeredName",placeholder:"eg. Company Name",className:"form-control form-control-sm"}),a&&e.jsx("div",{className:"text-danger mt-1",children:a.registeredName})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Trading Name",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{value:r.tradingName,onChange:l,type:"text",required:!0,name:"tradingName",id:"tradingName",placeholder:"eg. Company Name",className:"form-control form-control-sm"}),a&&e.jsx("div",{className:"text-danger mt-1",children:a.tradingName})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Branch",e.jsx("span",{className:"text-danger"})]}),e.jsx("input",{value:r.branch,onChange:l,type:"text",required:!0,name:"branch",id:"branch",placeholder:"eg. Branch Name",className:"form-control form-control-sm"}),a&&e.jsx("div",{className:"text-danger mt-1",children:a.branch})]})]})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Registration Number"}),e.jsx("input",{value:r.companyRegistrationNumber,onChange:l,type:"text",name:"companyRegistrationNumber",id:"companyRegistrationNumber",placeholder:"eg. 000/984/2020",className:"form-control form-control-sm"}),a&&e.jsx("div",{className:"text-danger mt-1",children:a.companyRegistrationNumber})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Registration Date"}),e.jsx("input",{value:r.registrationDate,onChange:l,type:"date",name:"registrationDate",id:"registrationDate",className:"form-control form-control-sm"}),a&&e.jsx("div",{className:"text-danger mt-1",children:a.registrationDate})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"VAT Number"}),e.jsx("input",{value:r.vatNumber,onChange:l,type:"text",name:"vatNumber",id:"vatNumber",placeholder:"eg. 1123456789",className:"form-control form-control-sm"}),a&&e.jsx("div",{className:"text-danger mt-1",children:a.vatNumber})]})]})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Current Address",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("textarea",{value:r.currentAddress,onChange:l,type:"text",name:"currentAddress",required:!0,rows:"2",placeholder:"eg. 1234 Main St",id:"currentAddress",className:"form-control form-control-sm"}),a&&e.jsx("div",{className:"text-danger mt-1",children:a.currentAddress})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"LandLine Phone"}),e.jsx("input",{value:r.landLine,onChange:l,type:"tel",placeholder:"123-456-7890",name:"landLine",id:"landLine",className:"form-control form-control-sm"}),a&&e.jsx("div",{className:"text-danger mt-1",children:a.landLine})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Mobile Number"}),e.jsx("input",{value:r.mobileNumber,onChange:l,type:"tel",id:"mobileNumber",name:"mobileNumber",className:"form-control form-control-sm"}),a&&e.jsx("div",{className:"text-danger mt-1",children:a.mobileNumber})]})]})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Email Address",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{value:r.emailAddress,onChange:l,type:"email",required:!0,name:"emailAddress",placeholder:"your-name@company-name.com",id:"emailAddress",className:"form-control form-control-sm"}),a&&e.jsx("div",{className:"text-danger mt-1",children:a.emailAddress})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Website"}),e.jsx("input",{value:r.website,onChange:l,type:"url",id:"website",name:"website",placeholder:"https://your-website.com",className:"form-control form-control-sm"}),a&&e.jsx("div",{className:"text-danger mt-1",children:a.website})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Industry"}),e.jsxs("select",{className:"form-select form-select-sm","aria-label":"Default select example",name:"industry",id:"industry",value:r.industry,onChange:l,children:[e.jsx("option",{children:"Select..."}),L.map(d=>e.jsx("option",{value:d,children:d},d))]}),a&&e.jsx("div",{className:"text-danger mt-1",children:a.industry}),a&&e.jsx("div",{className:"text-danger mt-1",children:a.industry})]})]})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4 d-flex gap-2",children:[e.jsx("label",{className:"form-label",children:"Government Org"}),e.jsx("input",{type:"checkbox",name:"is_gvt",id:"is_gvt",checked:r.is_gvt,onChange:l,className:"form-check-input border-1 border-black"})]}),e.jsxs("div",{className:"col-md-4 d-flex gap-2",children:[e.jsx("label",{className:"form-label",children:"Client"}),e.jsx("input",{type:"checkbox",name:"is_contracted",id:"is_contracted",checked:r.is_contracted,onChange:l,className:"form-check-input border-1 border-black"})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Note"}),e.jsx("textarea",{value:r.note,onChange:l,type:"text",id:"note",name:"note",placeholder:"Write your additional note here...",className:"form-control form-control-sm"}),a&&e.jsx("div",{className:"text-danger mt-1",children:a.note})]})]})})})]}),e.jsx(c.Footer,{children:e.jsx(B,{className:"text-white",variant:"info",onClick:h==="create"?A:_,disabled:N,children:N?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-grow spinner-grow-sm"}),e.jsx("span",{className:"ml-2",children:"processing.."})]}):"Save and Proceed"})})]})]})})]})}):"",x?e.jsx(R,{type:"company",actionType:"user"}):""]})]})})})};export{W as C};
