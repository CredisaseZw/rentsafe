<<<<<<<< HEAD:react-app/dist/SearchCustomer-952b2efa.js
import{r as s,b as D,j as o}from"./media/main-05399e1a.js";import{_ as L}from"./lodash-57a519b1.js";import{u as R}from"./index-a4cbb385.js";import"./formatting-fad57ba1.js";function P({delay:m=500,url:u,value:r,setValue:p,placeholder:v,type:d,setLeaseId:w,setCustomerName:f,setOpeningBalance:b,setEndDate:h}){const[y,i]=s.useState(!1),[g,n]=s.useState(!1),[C,_]=s.useState(!1),[x,S]=s.useState(""),[j,c]=s.useState([]),[N,E]=s.useState([]);s.useEffect(()=>{if(!r){c([]);return}const e=L.debounce(a=>{a.length<3||C||(n(!0),D.post(u,{searchParam:"guess",searchValue:a}).then(t=>{t.data?.status!=="failed"?(E([...t.data]),c(d==="company"?t.data.map(l=>({label:l.company_name,value:l.lease_id})):t.data.map(l=>({label:l.full_name,value:l.lease_id}))),S(""),n(!1)):(c([]),n(!1),S(R(t)))}))},m);return e(r),n(!1),()=>{e.cancel()}},[m,u,r]);const k=e=>{_(!0);const a=N.find(t=>t.lease_id===e.value);w(e.value),p(e.label),f&&f(e.label),b&&b(d==="company"?a.company_opening_balance:a.opening_balance),h&&h(d==="company"?a.company_opening_balance_date:a.opening_balance_date),i(!1),_(!1)};return o.jsxs("div",{className:"position-relative",children:[o.jsx("input",{type:"text",placeholder:v,required:!0,value:r,onChange:e=>p(e.target.value),onFocus:()=>i(!0),onBlur:()=>{setTimeout(()=>i(!1),200)},className:"form-control c-bg-light"}),y&&r&&o.jsx("div",{style:{overflowY:"auto"},className:"border border-dark rounded-1 c-bg-light custom-h-2 w-100 position-absolute mt-1 top-100 start-0 z-1",children:!g&&x?o.jsx("div",{className:"text-danger p-2",children:x}):g&&j.length===0?o.jsx("div",{className:"p-2",children:"Loading..."}):j.map((e,a)=>o.jsx("div",{onClick:()=>k(e),className:"c-pointer p-1 small border-bottom border-dark",children:e.label},a))})]})}export{P as default};
========
import{r as s,b as D,j as o}from"./media/main-925d7cc6.js";import{_ as L}from"./lodash-8af9eb04.js";import{u as R}from"./index-cbaa8a42.js";import"./formatting-fad57ba1.js";function P({delay:m=500,url:u,value:r,setValue:p,placeholder:v,type:d,setLeaseId:w,setCustomerName:f,setOpeningBalance:b,setEndDate:h}){const[y,i]=s.useState(!1),[g,n]=s.useState(!1),[C,_]=s.useState(!1),[x,S]=s.useState(""),[j,c]=s.useState([]),[N,E]=s.useState([]);s.useEffect(()=>{if(!r){c([]);return}const e=L.debounce(a=>{a.length<3||C||(n(!0),D.post(u,{searchParam:"guess",searchValue:a}).then(t=>{t.data?.status!=="failed"?(E([...t.data]),c(d==="company"?t.data.map(l=>({label:l.company_name,value:l.lease_id})):t.data.map(l=>({label:l.full_name,value:l.lease_id}))),S(""),n(!1)):(c([]),n(!1),S(R(t)))}))},m);return e(r),n(!1),()=>{e.cancel()}},[m,u,r]);const k=e=>{_(!0);const a=N.find(t=>t.lease_id===e.value);w(e.value),p(e.label),f&&f(e.label),b&&b(d==="company"?a.company_opening_balance:a.opening_balance),h&&h(d==="company"?a.company_opening_balance_date:a.opening_balance_date),i(!1),_(!1)};return o.jsxs("div",{className:"position-relative",children:[o.jsx("input",{type:"text",placeholder:v,required:!0,value:r,onChange:e=>p(e.target.value),onFocus:()=>i(!0),onBlur:()=>{setTimeout(()=>i(!1),200)},className:"form-control c-bg-light"}),y&&r&&o.jsx("div",{style:{overflowY:"auto"},className:"border border-dark rounded-1 c-bg-light custom-h-2 w-100 position-absolute mt-1 top-100 start-0 z-1",children:!g&&x?o.jsx("div",{className:"text-danger p-2",children:x}):g&&j.length===0?o.jsx("div",{className:"p-2",children:"Loading..."}):j.map((e,a)=>o.jsx("div",{onClick:()=>k(e),className:"c-pointer p-1 small border-bottom border-dark",children:e.label},a))})]})}export{P as default};
>>>>>>>> 0d4f2053942a3e4743d9fcff78bbd15f59c18a7a:react-app/dist/SearchCustomer-45840200.js
