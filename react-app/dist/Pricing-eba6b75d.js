<<<<<<<< HEAD:react-app/dist/Pricing-fe19ccde.js
import{u as J,r as s,j as e,_ as r,b as S}from"./media/main-05399e1a.js";import{S as K}from"./search-f0f910e9.js";import{f as u}from"./formatting-fad57ba1.js";import"./lodash-57a519b1.js";import"./index-a4cbb385.js";const ae=()=>{const{last_day_changed:G,current_usd_rate:b,client_data:H,company_charge:C,individual_charge:w}=J().props,[n,P]=s.useState(!1),[c,M]=s.useState(b||0),[k,D]=s.useState(!1),[U,m]=s.useState(!1),[i,W]=s.useState("company"),[Z,h]=s.useState(""),[x,g]=s.useState("USD"),[Q,I]=s.useState(""),[T,R]=s.useState(""),[B,A]=s.useState(reverseUrl("get_searched_companies")),[l,y]=s.useState(0),[d,j]=s.useState(0),[o,f]=s.useState([]),[v,F]=s.useState(w||1),[N,O]=s.useState(C||2),[a,_]=s.useState([]);s.useEffect(()=>{f(H)},[]),s.useEffect(()=>{i==="company"&&A(reverseUrl("get_searched_companies")),i==="individual"&&A(reverseUrl("get_searched_individuals"))},[i]);const V=async()=>{D(!0),r.loading("Updating...",{id:"update_rate",duration:3e3});try{const t=await S.post(reverseUrl("update_usd_rate"),{rate:Number(c),individualPrice:Number(v),companyPrice:Number(N)});t.data.status==="success"?r.success("Rate Updated Successfully",{id:"update_rate"}):r.error(t.data.message||"Something went wrong! Please try again",{id:"update_rate"})}catch{r.error("Something went wrong! Please try again",{id:"update_rate"})}finally{D(!1)}},Y=async()=>{if(n)try{m(!0),r.loading("Updating...",{id:"update_special_pricing"});const t=await S.post(reverseUrl("create_special_pricing"),{clientCustomer:T,currencyType:x,individualCharge:l,companyCharge:d});if(t.data.status==="success")r.success("Special Pricing Updated Successfully",{id:"update_special_pricing"}),f([...o,{id:t.data.special_pricing,client_company:T,currency_type:x,individual_charge:l,company_charge:d}]),j(0),y(0),g("USD"),h(""),P(!1),_([]);else{r.error("Something went wrong! Please try again",{id:"update_special_pricing"}),_(t.data.errors);return}}catch{r.error("Something went wrong! Please try again",{id:"update_special_pricing"})}finally{m(!1)}else P(!0)},q=async(t,p)=>{const E=p.id;try{if(r.loading("Updating...",{id:"update_special_pricing"}),E||r.error("Data is not loaded correctly, please reload page.",{id:"update_special_pricing"}),(await S.post(reverseUrl("delete_special_pricing"),{specialPricingId:E})).data.status==="success")r.success("Special Pricing Updated Successfully",{id:"update_special_pricing"});else{r.error("Something went wrong! Please try again",{id:"update_special_pricing"});return}const z=[...o];z.splice(t,1),f(z),r.success("Updated successifully",{id:"update_special_pricing"})}catch(L){console.log(L),r.error("Something went wrong! Please try again",{id:"update_special_pricing"})}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"card mt-2",style:{width:"100%",marginLeft:"-3px"},children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header bg-info px-4",style:{paddingTop:"2px",paddingBottom:"2px"},children:e.jsx("div",{className:`d-flex justify-content-center
========
import{u as J,r as s,j as e,_ as r,b as S}from"./media/main-925d7cc6.js";import{S as K}from"./search-3f56cc7c.js";import{f as u}from"./formatting-fad57ba1.js";import"./lodash-8af9eb04.js";import"./index-cbaa8a42.js";const ae=()=>{const{last_day_changed:G,current_usd_rate:b,client_data:H,company_charge:C,individual_charge:w}=J().props,[n,P]=s.useState(!1),[c,M]=s.useState(b||0),[k,D]=s.useState(!1),[U,m]=s.useState(!1),[i,W]=s.useState("company"),[Z,h]=s.useState(""),[x,g]=s.useState("USD"),[Q,I]=s.useState(""),[T,R]=s.useState(""),[B,A]=s.useState(reverseUrl("get_searched_companies")),[l,y]=s.useState(0),[d,j]=s.useState(0),[o,f]=s.useState([]),[v,F]=s.useState(w||1),[N,O]=s.useState(C||2),[a,_]=s.useState([]);s.useEffect(()=>{f(H)},[]),s.useEffect(()=>{i==="company"&&A(reverseUrl("get_searched_companies")),i==="individual"&&A(reverseUrl("get_searched_individuals"))},[i]);const V=async()=>{D(!0),r.loading("Updating...",{id:"update_rate",duration:3e3});try{const t=await S.post(reverseUrl("update_usd_rate"),{rate:Number(c),individualPrice:Number(v),companyPrice:Number(N)});t.data.status==="success"?r.success("Rate Updated Successfully",{id:"update_rate"}):r.error(t.data.message||"Something went wrong! Please try again",{id:"update_rate"})}catch{r.error("Something went wrong! Please try again",{id:"update_rate"})}finally{D(!1)}},Y=async()=>{if(n)try{m(!0),r.loading("Updating...",{id:"update_special_pricing"});const t=await S.post(reverseUrl("create_special_pricing"),{clientCustomer:T,currencyType:x,individualCharge:l,companyCharge:d});if(t.data.status==="success")r.success("Special Pricing Updated Successfully",{id:"update_special_pricing"}),f([...o,{id:t.data.special_pricing,client_company:T,currency_type:x,individual_charge:l,company_charge:d}]),j(0),y(0),g("USD"),h(""),P(!1),_([]);else{r.error("Something went wrong! Please try again",{id:"update_special_pricing"}),_(t.data.errors);return}}catch{r.error("Something went wrong! Please try again",{id:"update_special_pricing"})}finally{m(!1)}else P(!0)},q=async(t,p)=>{const E=p.id;try{if(r.loading("Updating...",{id:"update_special_pricing"}),E||r.error("Data is not loaded correctly, please reload page.",{id:"update_special_pricing"}),(await S.post(reverseUrl("delete_special_pricing"),{specialPricingId:E})).data.status==="success")r.success("Special Pricing Updated Successfully",{id:"update_special_pricing"});else{r.error("Something went wrong! Please try again",{id:"update_special_pricing"});return}const z=[...o];z.splice(t,1),f(z),r.success("Updated successifully",{id:"update_special_pricing"})}catch(L){console.log(L),r.error("Something went wrong! Please try again",{id:"update_special_pricing"})}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"card mt-2",style:{width:"100%",marginLeft:"-3px"},children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header bg-info px-4",style:{paddingTop:"2px",paddingBottom:"2px"},children:e.jsx("div",{className:`d-flex justify-content-center
>>>>>>>> 0d4f2053942a3e4743d9fcff78bbd15f59c18a7a:react-app/dist/Pricing-eba6b75d.js
            align-items-center`,children:e.jsxs("div",{className:"me-4",children:[e.jsx("h6",{className:"display-6 mb-0 text-white",children:"SUBSCRIPTION PRICING"}),e.jsx("div",{className:"card-text"})]})})}),e.jsxs("div",{className:"",style:{borderStyle:"solid",borderColor:"#26a69a"},children:[e.jsx("div",{className:"data-table py-4",children:e.jsx("div",{className:"table-responsive rounded",children:e.jsxs("table",{className:"table table-bordered",children:[e.jsxs("tr",{className:"bg-info text-white p-4",children:[e.jsx("th",{className:"px-4 py-1",children:"Today Date"}),e.jsx("th",{className:"px-4 py-1",children:"Last Change"}),e.jsx("th",{className:"text-center w-25",children:"USD Rate"})]}),e.jsx("tbody",{children:e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsxs("td",{children:[parseInt(new Date().getDate())<10?"0"+new Date().getDate():new Date().getDate()," ","- ",new Date().toDateString().split(" ")[1]," - ",new Date().getFullYear()]}),e.jsx("td",{children:G}),e.jsx("td",{children:e.jsx("input",{type:"number",value:c,onChange:t=>{M(t.target.value)},className:"form-control form-control-sm"})})]})})]})})}),e.jsx("div",{className:"d-flex justify-content-center align-items-center",children:e.jsx("h6",{className:"display-6 text-center bg-info text-white px-4",style:{width:"100%"},children:"RentSafe"})}),e.jsx("div",{className:"data-table p-4",children:e.jsxs("div",{className:"table-responsive",children:[e.jsxs("table",{className:"table table-bordered",children:[e.jsxs("tr",{children:[e.jsx("th",{scope:"row",children:"Customers"}),e.jsx("th",{children:"Currency"}),e.jsx("th",{className:"text-end",children:"Individual Per Month"}),e.jsx("th",{className:"text-end",children:"Company Per Month"}),e.jsx("th",{})]}),e.jsxs("tbody",{children:[e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("td",{scope:"row",children:"All"}),e.jsx("td",{children:"USD"}),e.jsx("td",{className:"text-end w-25",children:e.jsx("input",{type:"number",value:v,onChange:t=>{F(t.target.value)},className:"form-control form-control-sm"})}),e.jsx("td",{className:"text-end w-25 ",children:e.jsx("input",{type:"number",value:N,onChange:t=>{O(t.target.value)},className:"form-control form-control-sm"})}),e.jsx("td",{})]}),e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("td",{scope:"row",children:"All"}),e.jsx("td",{children:"ZWG"}),e.jsx("td",{className:"text-end",children:u(Number(c)*v)}),e.jsx("td",{className:"text-end",children:u(Number(c)*N)})]})]})]}),e.jsx("div",{className:"d-flex justify-content-end align-items-center p-4",onClick:V,children:e.jsx("button",{className:"btn btn-success text-white",children:k?"Updating...":"Update"})})]})}),e.jsx("div",{className:"d-flex justify-content-center align-items-center px-4 w-100  bg-info rounded-4 ",children:e.jsx("h6",{className:"display-6 text-start px-4 w-100 text-white",children:"RentSafe Special Pricing"})}),e.jsxs("div",{className:"table-responsive",children:[e.jsx("table",{className:"table table-bordered",children:e.jsx("tbody",{children:o.length>0&&o.map((t,p)=>e.jsxs("tr",{style:{lineHeight:"5px",fontSize:"12px"},children:[e.jsx("th",{scope:"row",children:t.client_company}),e.jsx("td",{children:t.currency_type}),e.jsx("td",{className:"text-end",children:u(t.individual_charge)}),e.jsx("td",{className:"text-end",children:u(t.company_charge)}),e.jsx("td",{className:"text-center bg-info text-white",style:{cursor:"pointer"},onClick:()=>q(p,t),children:e.jsx("i",{className:"material-icons p-0",children:"remove"})})]},p))})}),n&&e.jsxs("div",{className:"p-4",style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr",gap:"10px"},children:[e.jsxs("div",{children:[e.jsxs("select",{className:"form-select form-select-sm  flex-1","aria-label":"Default select example",value:i,onChange:t=>{W(t.target.value),h(""),I(""),R(""),g("USD"),_([]),m(!1),y(0),j(0)},children:[e.jsx("option",{selected:!0,children:"Client Type (Default is C)"}),e.jsx("option",{value:"Individual",children:"I"}),e.jsx("option",{value:"company",children:"C"})]}),a&&a.clientType&&e.jsx("p",{className:"text-danger",children:a.clientType})]}),e.jsxs("div",{children:[e.jsx(K,{placeholder:"Type client name or ID/Reg. No.",url:B,value:Z,type:i,setValue:h,setClientName:R,setClientId:I}),a&&a.clientCustomer&&e.jsx("p",{className:"text-danger",children:a.clientCustomer})]}),e.jsxs("div",{children:[e.jsxs("select",{className:"form-select form-select-sm  flex-1","aria-label":"Default select example",value:x,onChange:t=>g(t.target.value),children:[e.jsx("option",{selected:!0,children:"Currency"}),e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"ZWG",children:"ZWG"})]}),a&&a.currencyType&&e.jsx("p",{className:"text-danger",children:a.currencyType})]}),e.jsxs("div",{children:[e.jsx("input",{type:"number",className:"form-control form-control-sm flex-1",value:l>0?l:"",placeholder:"Individual Price Per Month",onChange:t=>y(t.target.value)}),a&&a.individualCharge&&e.jsx("p",{className:"text-danger",children:a.individualCharge})]}),e.jsxs("div",{children:[e.jsx("input",{type:"number",className:"form-control form-control-sm flex-1",value:d>0?d:"",placeholder:"Company Price Per Month",onChange:t=>j(t.target.value)}),a&&a.companyCharge&&e.jsx("p",{className:"text-danger",children:a.companyCharge})]})]}),e.jsx("div",{className:"d-flex justify-content-end align-items-center p-4",children:e.jsxs("button",{className:"btn btn-primary text-white",onClick:Y,disabled:U,children:[!n&&e.jsx("i",{className:"material-icons",children:"add"}),U?"Adding...":n?"Submit":"Add New"]})})]})]})]})})})};export{ae as default};
